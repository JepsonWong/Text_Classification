���ѧ��
JOURNAL OF SOFTWARE
1999�ꡡ��10����11�ڡ�Vol.10��No.11��1999



���ڹ��ϻ��ֵĲ��в��������㷨
���Ƶ¡����׾�
����ժҪ�����´������Ϸ�������߻��ڹ��ϻ��ֵĲ��в��������㷨�ļ��ٱȵ�;��.�ڴ˻����ϣ�����˰���ع���ʶ������·���������ϵĻ����������׶��������ϻ��ַ���BFPOC��backword fault partitioning of output fan-in cones�������Ѹ÷�����Banejee�Ƽ��Ļ��������ȳ�׶��������ϻ��ַ���TFPIC��toword fault partitioning of input fan-out cones���ͳ��õĻ��ڹ���˳��ĵȲ������ַ���EDPFS��equal distance partitioning of fault sequences��������ʵ��Ƚ�.����������ڴ��ģ���д������£�BFPOC�����Ⱥ����ַ��������Ե����ƣ��ܻ�ø��ߵļ��ٱ�.
�����ؼ��ʡ����в������ɣ����ϲ��У����ϻ��֣��������׶�������ȳ�׶�����ٱ�.
������ͼ������š�TP338
A Parallel Test Generation Algorithm Based on Fault Partitioning
ZENG Zhi-de��ZENG Xian-jun
(Department of Computer Science��National University of Defense Technology��Changsha��410073)
����Abstract�� In this paper, the authors analyze in theory how to increase the speed-up ratio of parallel unit_test generation algorithm based on fault partitioning. The approach of backward fault partitioning of output fan-in cones (BFPOC) which combines the relevant fault recognition and shortest path sensitization, is presented. And BFPOC is compared via experiment with the approach of toward fault partitioning of input fan-out cones (TFPIC) proposed by Banejee and the general one, equal distance partitioning of fault sequence (EDPFS). The experimental results show that in large-scale parallel processing environment, BFPOC can reach higher speed-up ratio, obvious super to the other two approaches.
����Key words��Parallel unit_test generation, fault parallelism, fault partitioning, output fan-in cones, input fan-out cones, speed-up ratio.
�����������д�����������Ը�VLSI��������ʱ���ָ����������һ�ֿɹ�ѡ��ķ�����1��.���ģ���д������MPP���������͹���վ��Ⱥ��WSG���Ĺ㷺���ã�Ϊ���в������ɵ�ʵ���ṩ�����õ�Ӳ������.���ǣ�Ҫ�Ѳ�����������ԭ�����ڴ��д�����㷨����ɿɲ������е��㷨��������.
������10������������ѧ�߳��˼�����������ߵ�����������ϵͳЧ�ʵ��о���2,3������,�������˶�����в��������㷨���о������Ⱥ�����˻��ڹ��ϲ��С�����ʽ���С������ռ䲢�С����ܲ��к͵�·���еȶ��ֲ��в������ɷ�����Ҳ������һЩ���ڲ��в������ɵ�ԭ��ϵͳ.���磬�����������ȳ�׶�Ե�·���Ͻ��м�������Ĳ���ϵͳ��4�ݡ�������ʽ���е�ϵͳ��5�ݡ����Ѳ���ϰ������ռ䲢�е�ϵͳ��6���Լ���ʱ���·�ֱ𰴹��ϲ��У�7�ݡ��������ռ䲢�У�8�ݺͰ���·���У�9�ݵ�ϵͳ�ȵ�.��Щϵͳ���벢�д���Ĵ������ĿΪ5��16������С��ģ����.���ǵĹ�ͬ�ص��ǱȽ����Ӵ����֮��Ķ�̬����ƽ��.������֪��ʵ�ֶ�̬����ƽ���������Ӵ����֮���ͨ�ſ���Ϊ���۵�.�����ϲ���֤����ʵ��N��������Ķ�̬����ƽ������ͨ�ſ�����ʱ�临����ΪO��N2��.�������MPPϵͳ��N��128������ʵ�ֶ�̬����ƽ������߼��ٱȿ��ܻ�������.Ϊ�ˣ����ǽ�����о��ص���������߾�̬����ƽ���ϣ��Լ�������MPP���Ĳ��в�������ϵͳ��ͨ�ſ�������߼��ٱ�.��������������߼�����ԵĴ�С���ѱ����·��CUT��ԭ�е��Գ��������PO��Ϊ׶����P���������׶�����N������������в��д�����Ż������㷨������С�ݹ���ַ���10�ݣ��յ��˽Ϻõ�Ч��.���ǣ�����Щ�����ߺܶࡢ������Ⱥ���ıջ���·��ÿ�����׶��������������·.��ʱ����ͼ����·�����׶�ֿ齫��ͽ�͵�.��ˣ������о�����MPP���Ļ��ڹ��Ͼ�̬���ֵĲ��в��������㷨.
1�����ڹ��ϲ��еļ��ٱ�
��������m��n�׾���aij��ΪCUT�Ĺ��ϼ���������j=1,2,...,n��CUT��Ŀ����ϼ�SF�е�n�����϶�Ӧ��i=1,2,...,m����SF����ȫ���Լ�ST�е�ÿ�����������Ӧ.

�������ǵ������ǰ�SF�е�n������ƽ�ָ�N����������в��в������ɣ�ϣ����ȡ��ߵļ��ٱ�.���������ʽ���������£�
�����Ѿ���aij�����о��ֳ�N��m��n/N�׵�����bKil��������i=1,2,...,m��l=1,2,...,n/N����(n/N��+1����K=1,2,...,N.���ڴ�ʱ��bKil���а�����һЩȫ���У�����ѹ������Щȫ����֮����i=1,2,...,mK���������max{mK }=M������ٱ�
SP��m��tg+tf.mfs)/(M(tg+tf.mfp)).
(1)
����ʽ(1)�У�M��m��tgΪ����һ�������������ƽ��ʱ�䣬tfΪһ��������ģ��һ�����������ƽ��ʱ��.������CUT�ĸ����Լ����õĲ������ɣ�TG���͹���ģ�⣨FS���㷨����������ϻ����޹�.mfs��mfp�ֱ�Ϊ�ڴ��кͲ������ɻ����£�һ��������ƽ����Ҫģ��Ĺ�����.Ϊ�˱��ڷ��������Ǽ���ST�е�m����������ȫ����SF�е�n�����ϣ�ÿ�������붼���n/m�����ϣ����ǿ��Ե���
mfs��n��m+1��/2m,
mfp��n��M+1��/(2N.M),
SP��N��m��2tg+tf.n��+tf.n ��/��M��2tg.N+tf.n��+tf.n��.
(2)
����ʽ(2)�У�ֻ��M����ϻ��ַ����й�.��Ȼ������ڶԣ�aij�����л���ʱ��ʹMȡ��Сֵ����SPΪ���ֵ���ɻ����ߵļ��ٱ�.
���� ����ڶ�SF����ʱ��aij������֪�ģ����ȡ��߼��ٱȵĹ��ϻ��ֿɳ���Ϊ����ѧ���⣺�Ӿ���aij����CNn���������ѡȡʹM��С�������.��������ģ���˻𷨻���С�ݹ���ַ������ѽ��.���ǣ����ڽ��й��ϻ���ʱ��δ���ST����aij����δ֪�ģ�����������ʱ���ò���.���������������Ѹ�������һ������Ҫ����ʾ��������߼��ٱȵĻ��֣���������ʹÿ����������ֵõĹ��ϼ�����ȫ���Լ���С����M��С���Ļ���.Ϊ�ˣ��ڽ��й��ϻ���ʱ�����ֿ��ǹ��ϵĵȼ��ԡ�����ԺͶ�����.
����VLSI�еĹ��ϣ������ÿ�����ϵ���ȫ���Լ�������ԣ����Է�Ϊ�ȼ۹��ϡ���ع��ϺͶ�������.��T����T�·ֱ�Ϊ�̶����Ϧ����µ���ȫ���Լ����������
T����T�£���Ʀ�,��Ϊ�ȼ۹��ϣ�
T����T�£���T����T�¡١ӣ���Ʀ�,��Ϊ��ع��ϣ�
T����T��=�ӣ���Ʀ�,��Ϊ��������.
��Ȼ�����������壬���ɲ�������ڶ�������.���ǵ���������ϵͳ��unit_test generation system,���TGS��������CUT��Ŀ����ϱ�ʱ���Եȼ۹����ѽ�����ʶ��͹鲢�������,�ڻ��ֹ���ʱ���ٿ��ǵȼ۹���.
����Ϊʹ���в��������㷨��ýϸߵļ��ٱȣ����ֹ���ʱӦ��ѭ����3������ԭ��
����(1) ��ع������ȷ����ͬһ���������
����(2) �����������ȷ������ͬ�Ĵ������
����(3) ��������������ع��ϼ��ĸ�������������������ͬ.
2��3�ֹ��ϻ��ַ���
�������Զ�������ع��ϺͶ������ϵ�ʶ���ǹ��ϻ��ֵĹؼ�.�������BFPOC(backword fault partitioning of output fan-in cones)�������������ף�1���Ƽ���TFPIC(toword fault partitioning of input fan-out cones)�����ͽϳ��õ�EDPFS(equal distance partitioning of fault sequences)�������бȽϣ��������ǵ�����,�ַ�������.
2.1 �������׶�����򻮷ַ�����BFPOC��
�����÷����Ļ���˼���ǰ���ع��ϵ�ʶ�������·��������11�ݵ�˼������.������������.
����(1) ���ܿ���Ϸ������
���蹦�ܿ����s-a-0���ϵ����Ϊk��s-a-1���ϵ����Ϊk+1�����ݹ��ܿ�Ĺ��ܡ���������Ժ����·������˼�룬������������Լ��������������ȳ�Դ���ϴ�����ǣ�
������1�� �򣨻�ǣ���
������ ������͵���������ǵ������ȳ�Դ��s-a-0���϶����k��k+1����s-a-1���k+1��k����
������ ���������빲��i����i=1��2��...��������Щ�����s-a-0�����Ǹ��Ե������ȳ�Դ��s-a-0�ֱ���k+2��k+3����k+4��k+5����...��s-a-1����k+1��k��.
������2�� �루��ǣ���
������ ������͵����뼰�������ȳ�Դ��s-a-1�����k+1��k����s-a-0���k��k+1����
������ ���������빲��i����i=1��2��...��������Щ�����s-a-1�����Ǹ��Ե������ȳ�Դ��s-a-1�ֱ���k+3��k+2����k+5��k+4����...��s-a-0����k��k+1��.
������3�� �������ǣ���
������������������ȳ�Դs-a-0���k��k+1����s-a-1���k+1��k��.
������4�� �Գ�����ĸ�����
������ ��������ǣ��ţ�ͬһ����������Ϸ������ͬ�루��ǣ��ţ���ͬ���ŵĶԳ�����s-a-1����ͬһ��.
������ �Ի��루����ǣ��ţ�ͬһ����������Ϸ������ͬ�򣨻�ǣ��ţ���ͬ���ŵĶԳ�����s-a-0����ͬһ��.
������5�� �������ܿ�
������ �Լ�����͵�����a���������/�����ͨ����.�����ͬ����ͨ����a���������ȳ�Դ��s-a-0���k��s-a-1���k+1��������ͨ����a���������ȳ�Դ��s-a-0���k+1��s-a-1���k��˫����ͨ��������ذ�ͬ�����Դ���
������ ����������bi(i=1,2,...)�������ͬ����ͨ����bi���������ȳ�Դ�Ĺ���s-a-0��1�������Ϊk+i+1��k+i+2����������ͨ����Ϊk+i+2��k+i+1����˫����ͨ��������ذ�ͬ�����Դ�.
����(2) ��·���Ϸ������
��������ӵĳ��������PO1����ʼ����������루PI��������������׶��ÿһ�����ܿ�.������������ÿ�����ܿ����������ŵĻ����ϣ������ǵ����뼰�������ȳ�Դ�Ĺ��Ϸ���.�������·������˼��������������.
����(3) ������ŷ����㷨
������1�� ͬһ������ֻ����һ����ţ���ͬ���ϵ���Ų������ص�.����ԭ�򣬸����׶֮�乫���Ĺ���ֻ����һ�����.
������2�� Ϊ���ⲻͬ���ϵ�����ص����������������ŷ����㷨���£�
������ һ�����߷��������ڽ�������Ϊ�������ϵ���ţ���ʹĳ�����ߵ�һ�������������ѱ��ȼ۹鲢��.����ġ����ߡ�����PI���ڲ����ܿ������ߺ��ȳ���������1���ȳ�Դ���ȳ�����.
������ �����ܿ���Ϸ���ԭ����������ͬһ��Ĺ��ϣ��������С��ȡ�룻������ͬһ��Ĺ��ϣ�����ԭ��Ų���.
����(4) ���������򣬱���ͬһ��Ĺ��Ϲ���һ����ع��ϼ�����ͬ��Ĺ��ϵ�����ԺͶ����ԣ�Ҫ�뾫ȷ�������Ƚϸ��ӣ����ܵ������Ƕ����Դ��������.
����(5) �������������ԭ��ͬ�����Ӧ�����ͬһ�����������ͬ�����Ӧ�������ͬ�Ĵ���������ǿ��Ǵ��������ƽ������е���ʱ����.������������������ʱ��Ӧʹ�������ͬ������Ĺ�������������ͬ.
����(6) ���ϻ��־���
������1:ͼ1�ĵ�·���ȼ۹鲢�󣬹���30�����ϣ������ֹ��򽫱���Ϊ15�飬�������.

ͼ1
��0����a0����1��������b0��2��������f0 ��3������4������j0
��5�� ��6�� c0��7�� g0��8�� d0 ��9�� e0��
��10�� h0��11�� i0����12�� k0��13�� ��14�� l0��

������30�����ϣ���ATGTAϵͳ������8��������.������4��������ϱ����ڲ�ͬ��.
2.2����������׶�����򻮷ַ�����TFPIC��
�����������Ļ���˼���ǣ���һ��PI�������������ȳ�����ߣ������йص�PO��������������;�������߹��ɵ���PIΪ��������׶�Ĺ��ϣ����շ�������ֳ����飬ÿһ��Ҳ����һ����ع��ϼ�.������׶֮��Ĺ�������Ҳֻ����һ�����.��Ȼ��
CUT���������=2*PI����.
�������ѹ������������ʱ����Ȼ��ѭ����1��ԭ��.
2.3������CUT���ϱ��й���˳��ĵȲ������ַ�����EDPFS��
����CUT���ϱ��й���˳�򰴹��ܿ鼶��ӵ͵������У�ÿ�����ܿ�Ĺ��ϰ����0��1���Ϻ�����0��1�������У�����������ϸ񰴶˺�˳������.��ν�Ȳ���������ָ�Դ������ĿNΪ��������CUT��n�����Ϸֳ�N�ݣ�ÿ�ݺ�������n/N��(n/N)+1�����е�i��i=1,2,...,N����������ֵõĹ������Ϊ
j*N+i, j=0,1,2,...,j*N+i��n.
�������������Ŀ�ﵽ16����ʱ��������˳��Ȳ������֣����԰Ѿ���������ܿ�����롢������Ϸָ���ͬ�Ĵ���������뾭�ȼ۹鲢֮��ͬһ���ܿ��У���������ţ����µĹ��ϴ󲿷��Ƕ������ϵĹ������.�����Ǹ÷���Ҳ�Ƚ���Ч����Ҫԭ��.
3��ʵ����������
3.1 ʵ��1
���������ڵ�̨SUN ULTRA2�Ͻ�����һ�����й������ģ��ϵͳ��һ������ģ��256��������Ĳ��в�������.��ϵͳ�����޻��ݲ���ģʽ�����������ɲ����룬��ͬʱ����ģ����й��ϸ���.�����ô�ϵͳ��ISCAS-85���ֵ�·ģ��������3�ֻ��ַ�����Ч��.��������ֱ�Ϊ4��16��64��256ʱ,�������ɵļ��ٱȺ͹��ϸ����ʽ�����ڱ�1��.Ϊʹ���ٱȵıȽ���Ժ�������Ҫ�󵥻����С�����������õ��Ĺ��ϸ�����Ӧ������ͬ.����1�ͷ���2���õ�Ԥ����ʱ����٣��ɲ��迼��.�������ɵĹ��ϸ������ǰѸ���������ɵĲ����뼯���������й���ģ��õ��ģ����õ��ǲ����벢�С������ϴ����Ŀ��ٹ���ģ�ⷽ����12��.
��1

��·
���ƻ���
����4�����16�����64�����256�����
���ٱȹ��ϸ�����(%)���ٱȹ��ϸ�����(%)���ٱȹ��ϸ�����(%)���ٱȹ��ϸ�����(%)
C135512.8398.837.3699.3218.6799.3253.6299.51
22.5098.086.9599.1414.1399.2647.5299.26
32.6198.276.0698.8316.3499.4446.4799.26
C190812.9799.297.1299.2917.3299.1536.9599.34
22.4999.154.6999.2412.6899.0630.5499.15
32.5199.016.2699.0113.6599.0634.2299.06
C267013.0295.6510.2795.6527.5495.6549.5295.72
22.0095.475.6595.5112.4395.5833.0595.58
32.7595.518.7395.5124.9195.5140.6295.65
C354012.8696.149.8596.1920.0296.1937.8996.25
22.7296.147.5896.169.0496.2215.6896.22
33.0696.037.7196.1616.8496.1929.9696.16
C531512.9098.9110.7998.9420.0898.9637.7298.96
23.0898.809.1798.7812.0198.9423.5798.94
32.8298.758.3298.9414.6098.9632.7098.96
C755213.2598.357.5198.3616.9298.3640.6398.36
23.2998.285.4998.349.7698.3624.5798.36
32.9598.336.8798.3616.4998.3332.6098.36

3.2 ʵ��2
����������ATGTAϵͳ��һ��25000�š�����ǧ�������ߵ�ASIC��·���÷���1���й��ϻ��֣�ģ����4��������в������ɺ͹���ģ���Ч��.����������ڱ�2�У�����TGʱ��ΪSUN20��CPU�룬��FSʱ��ΪSUN4��CPU��. 
��2

TG/FS��ʽ�������������볤��ʱ��(s)�����ٱȣ����ϸ����� ��%��
TGFS
�������4 00018 53217 313��1.0��64 102��1.0��96.65
4�����4*1 00019 4094 462��3.88��15 832��4.05��96.75

3.3 �� ��
������1�ͱ�2�����ݣ����Եó����н���.
����(1) ƽ����������4�����������£�3�ַ�����Ч�����̫��.
����(2) ����������ﵽ16����ʱ������1�ļ��ٱ��������ڷ���2�ͷ���3�����ﵽ�Ĺ��ϸ������뵥��ʱ������ͬ��������������������ף�3�ݣ����ȷ���2�ͷ���3�Ժ�һЩ.����2�����ף�1���Ƽ��ķ���.�����ǵ�ʵ�����ǣ�����������ϴ�ʱ�����������籾������ķ���1�������ȷ���3��Ч������.
����(3) ����1����6��ISCAS-85��·ȡ�������Լ��ٱȣ�ֱ��б����0.2��0.7֮�䣩������Ч��.�ر��Ǵ������Ϊ256ʱ��ƽ�����ٱȴﵽ42�������÷����Դ��ģ���в������ɽ�����������.
����(4) ��2˵��������1����ʱ���·ͬ����Ч.��TG��FSΪ��ɢ��ϵ�ϵͳ��4�������������õļ��ٱ�ֱ��б�ʵ���1. 
������Ŀ�������о��õ�������Ȼ��ѧ��������.
���߼�飺���Ƶ�,1941����,����,��Ҫ�о�����Ϊ����ϵͳ����������ݴ�.
�������������׾�,1966����,��ʿ,�����ڣ���Ҫ�о�����Ϊ����ϵͳCAD.
���ߵ�λ��������ѧ������ѧ�����ϵ����ɳ��410073
����ͨѶ��ϵ��:���Ƶ£���ɳ410073��������ѧ������ѧ�����ϵ
�ο�����
��1��Banerjee P. Parallel algorithm for VLSI. Computer-Aided Design. Englewood Cliffs, NJ: Prentice-Hall,Inc., 1994
��2�����ҳϣ������棬��Ӧ��.һ�����ڵ�·�ṹ�����Ĳ��Բ���ϵͳ����SABATPG.�й���ѧ(A��),1993,23(2):189��196
(Li Zhong-cheng, Pan Yu-qi, Min Ying-hua. A structure analysis based unit_test generation system����SABATPG. Science in China (series A), 1993,23(2):189��196)
��3�����Ƶ�.ASIC�������ɺͿɲ��Է���ϵͳATGTA.�����ѧ����1998��21��5����448��455
(Zeng Zhi-de. ASIC unit_test generation and testability analysis system����ATGTA. Chinese Journal of Computers, 1998��21��5����448��455)
��4��Patil S, Banerjee P. Performance trade-offs in a parallel unit_test generation fault simulation environment. IEEE Transactions on Computer-aided Design Integrated Circuits Systems, 1991,10(12):1542��1558
��5��Chandra S J, Patel J H. Test generation in a parallel processing environment. In: Lopresti P V ed. Proceedings of the International Conference on Computer Design (ICCD'88). Rye Brook, NY: IEEE C, IEEE CAS and IEEE ED, 1988. 11��14
��6��Patil S, Banerjee P. A parallel branch and bound approach to unit_test generation. IEEE Transactions on Computer-aided Design Integrated Circuits Systems, 1990,9(3):313��322
��7��Agrawal P, Agrawal V D, Villodo J. Sequential Circuit Test Gineration on a Distributed System. In: Newton A R ed. Proceedings of the 30th Design Automation Conference (DAC'93). Anaheim: ACM/IEEE, 1993. 337��341
��8��Ramkumar B, Banerjee P. ProperTest: portable parallel unit_test generation for sequential circuits. In: Jones I K ed. Proceedings of the International Conference Computer-aided Design (ICCAD'92). Washington D.C: Computer Society Press, 1992. 220��223
��9��Chan T. Distributed automatic unit_test pattern generation. In: Tsai Y T ed. Proceedings of the Application Specific Integrated Circuits Conference (ASIC'92). Rochester, NY: IEEE Rochester Section, 1992. 385��388
��10��Tao Jing, Zeng Zhi-de. A network partitioning algorithm for parallel unit_test generation in VLSI circuit. In: Yang Shu-zi ed. Proceedings of the 4th International Conference on CAD/CG. Wuhan: SPIE(USA), 1995. 645��650
��11�����Ƶ�.����ϵͳ������ɲ���.��ɳ��������ѧ������ѧ�����磬1992
(Zeng Zhi-de. Testing and Testability for Digital Systems. Changsha: National University of Defense Technology Press, 1992)
��12����ʤ�������Ƶ�.��ϵ�·����ģ����ٷ������о���ʵ��.����ȫ����10��CAD & CG�������ļ�.�����������ܹ�˾23����1998. A-1��A-5
(Liu Sheng-li, Zeng Zhi-de. The research and realization of accelerating fault simulation for combinational circuits. In: Proceedings of the 10th Chinese CAD/CG Conference. Beijing: Institute No.23 of China Aerospace Corporation, 1998. A-1��A-5)
����1998-08-24�յ�ԭ��,1998-12-01�յ��޸ĸ�
