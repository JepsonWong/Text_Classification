���ѧ��
JOURNAL OF SOFTWARE
1999�� ��10�� ��7�ڡ�No.7 Vol.10 1999



������չ��������۵ļ������
ŷ����ͮ�����Ʒ�
����ժҪ�����ѧ�߽������ϵ��һ����Ӧ���ڻ���ģ�͵��������.Ȼ��,���ǵ��о�ֻ�����ڼ��������.�����������չ���������������˸������Ϣ,ָ������չ��������۵���Ͽռ�С�ڵ�����Ӧ��������۵���Ͽռ�.����,������չ������������ڲ�������,֤���˶��ڷ�յ���չ���������,���������ϵ��ڻ���һ���Լ������.��һ�����Ӧ���ڲ���ѡ��Ĳ���.
�����ؼ��ʡ����������,��չ���������,����ģ�͵����,����,�������.
������ͼ������š�TP18
Differential Diagnosis Based on Generalized Causal Theory
OU-YANG Dan-tong1 JIANG Yun-fei2
1(Department of Computer Science Jilin University Changchun 130023��
2(Institute of Computer Software Zhongshan University Guangzhou 510275��
����Abstract��Many researchers have applied the concept of causation to model-based diagnosis. However, their researches are limited to simple causal theory. In this paper, the concept of generalized causal theory that contains more information is proposed. It is pointed out that the diagnostic space of a generalized causal theory is smaller than or equal to that of the corresponding simple causal theory. Furthermore, generalized causal theory is applied to the area of unit_test. It is demonstrated that for closed generalized causal theory, the abductive differential diagnosis is equivalent to the consistency-based differential diagnosis.
����Key words��Simple causal theory, generalized causal theory, model-based diagnosis, unit_test, differential ��diagnosis.
���������ϵ֪ʶ�ǳ�ʶ�����һ����Ҫ����.���ǳ���ʹ��ԭ��ͽ��������ճ��������������.����,ҽѧ��Ͻ�������Ϊԭ��,��֢״��Ϊ�������е�͵���ϵͳ��������������Ϊԭ��,�������Ϊ������滮���򽫹滮��Ϊԭ��,��������Ϊ����ȵ�.������,���ѧ����ʶ���˽������ϵ��һ����Ӧ���ڻ���ģ�͵�����������Ҫ��.����,Console���ˣ�1�ݺ�Konolige��2�ݷֱ��ڼ�����������о��˻���һ���Ե���Ϻ��������.��McIraith��Reiter��3��֤���˶��ڷ�յļ��������,���������ϵ��ڻ���һ���Լ������.
���������������һ���ľ�����,��Ϊ������ֻ�б�ʾ�����ϵ����Ϣ����ʵ��Ӧ���л������������͵���Ϣ,�綨����Ϣ����ʾ�����ϵ(correlation������Ϣ��.�����������չ��������۾Ͱ�����������Щ��Ϣ.�ʵ��İ����ϵ��Ϣ�ļ����������Ͽռ����С,���������ҳ��������õĽ�.
���������������������һ����������Եĵ�������.��������˴�����豸��ϵͳ�����Ͷ�ϵͳ��Ϊ�Ĺ۲���,��ô���Բ���һ���ܹ����͸ù۲���Ϊ�ĺ�ѡ��ϼ�.��������������,�ü����е���ϲ�ֻһ��,���,Ϊ���ҵ������Ĺ���,��Ҫ�Ӹü��ϳ���������һ�������Ĳ���,Ȼ��ִ����Щ����,�����µĹ۲���Ϊ������������������,�Ծ������µĺ�ѡ��ϼ�.�ظ���������,ֱ���ҵ�Ψһ����ϻ�����Ҳ�Ҳ����ܹ������ϵĲ���Ϊֹ.�����о��˵������Խ������չ��������۵Ļ���һ������Ͽռ��������Ͽռ��Ӱ��,�ֽ�һ���о�����չ��������۵ļ������.������Ͼ�����ͨ��ѡ��һ�����������������������,���ҳ�Ψһ���������.����֤���˶��ڷ�յ���չ���������,���������������һ���Լ��������һ����.��һ�����Ӧ���ڲ���ѡ��Ĳ���.
1 �������������չ���������
��������1��3��. ����LΪ��������.һ���������SCΪ��Ԫ�顴C,E,����,����CΪԭ��,��L��ԭ�Ӽ�;EΪ�����,��L��ԭ�Ӽ�;���ǰ���ԭ��ͽ����ϵ��Ϣ����������,��L����伯.���е���������ʽC���e,����e��E,C��Ϊ���ֵĺ�ȡʽ,��Щ���ֵ��������Ϊԭ��.
������1:������ͼ1��ʾ�ĵ�·ͼ.һ�ڵ��S��3��ͬ�ͺŵĵ���B1,B2,B3����(Ϊ���ٲ�����,��W1,...,W6ֱ�������������.

ͼ1
������ϵͳ����ɲ���COMPS={S,Bi,Wj|i=1,2,3,j=1,...,6}.��������������SCΪ��C,E,����,���б�ʾ�����ϵ��Ϣ�����ۦ�Ϊ��
������������OK(S)��OK(W1)��OK(W2)��OK(B1)��on(B1),
������������OK(S)��OK(W1)��OK(W2)��OK(W3)��OK(W4)��OK(B2)��on(B2),
������������OK(S)��OK(W1)��OK(W2)��OK(W3)��OK(W4)��OK(W5)��OK(W6)��OK(B3)��on(B3),
����ԭ��C={OK(Ck),AB(Ck)|Ck��COMPS},
���������E={on(Bi),off(Bi)|i=1,2,3}.
����ֻʹ��SC��һ��������,��Ϊ���������ϵ����,�������������͵���Ϣ,�綨����Ϣ��
����������������AB(Ck)��OK(Ck),Ck��COMPS,��������������������������(1)
����������������on(Bi)��off(Bi),i=1,2,3.�������������������������� (2)
��������,���б�ʾ�����ϵ(correlation������Ϣ,�磺
����������������off(B1)��OK(B1)��off(B2)��off(B3),������������������ (3)
����������������off(B2)��OK(B2)��off(B3).����������������������������(4)
���������ϵ(3)��˵,��B1��������������,��ֻ���ǵ�ԴS���ǵ���W1��W2֮���й���.��ʵ����,����֪����������������һ���Ƿ�����,��B2��B3��������.ͬ��,���Խ�����һ�������ϵ(4).���ְ����ϵ��Ϣ������Ԥ��,���������������.����,��A={OK(B1),off(B1)}���������Ƴ�off(B2),����A�����Ǫ�off(B2)������ԭ��.
����Ϊ��,������������չ��������۵ĸ���.
��������2. ����LΪ��������,һ��չ���������GCΪ��Ԫ�顴SC,DF,CR��,����SCΪ��������ۡ�C,E,����,ͬ����1;DFΪ��������,ΪL����伯;CRΪ�����ϵ����,ΪL����伯.
������Ȼ,�����ϵ��Ӧ�����ģ���Ƴ�,����Ͳ����г�,Ҳ�𲻵���С��Ͽռ������.��Ӧ���Ǵ���ƽǶ��ܽ���ͨ��,�����ܴ���һ����������ʽ�͵���Ϣ.����,ʹ�������п����ų���Щ���߼��Ͽ��ܵ�Υ����Ȼ����Ĳ����ܵ����.
�����ʵ��İ����ϵ��Ϣ�ļ��������С��Ͽռ������.Ϊ��˵����һ��,�������Ȼع�һ�����ת���4�����漰���Ļ���һ������С��ϵ�һЩ����Ͷ���,��Ϊ׼������.
��������3��4��. һ��ϵͳ��һ����Ԫ��(SD,COMPS,OBS��,����SDΪϵͳ����,��һ��ν�ʹ�ʽ�ļ���;COMPSΪϵͳ��ɲ���,��һ�����޵ĳ�����;OBSΪһ�۲⼯,��һ��ν�ʹ�ʽ�����޼�.SD�����˴����ϵͳ����ر���֪ʶ,����Ϊ��������ۡ���չ��������۵ȵ�.
��������4��4��. ����(SD,COMPS,OBS���Ļ���һ������С���Ϊ��С���ϲ�������,ʹ��SD��OBS��{AB(c����c�ʦ�}��{AB(c����c��COMPS����}��һ�µ�.
��������5��4��. ����(SD,COMPS,OBS���ĳ�ͻ��Ϊһ��������{c1,...,cn},ʹ��SD��OBS��{AB(c1),...,AB(cn)}��һ��.�ƹ���(SD,COMPS,OBS)��һ����ͻ��Ϊ��С�ģ����ҽ����ü��ϵ���һ���Ӽ������ǹ���(SD,COMPS,OBS)�ĳ�ͻ��.
��������5�еĳ�ͻ�������ף�5���ж�������ĳ�ͻһһ��Ӧ.
��������6��4��. ��C�Ǽ��ϴ�(�ɼ�����ɵļ���).C��һ������ΪH��s��C s,ʹ�ö�ÿһs��C����H��s��.��C��һ������Ϊ��С�ĵ��ҽ��������κ�һ�����Ӽ�������C������.
��������1��4��. ����(SD,COMPS,OBS���Ļ���һ������С��ϵ��ҽ�������(SD,COMPS,OBS������С��ͻ���ص�һ����С����.
�����ö������������μ������һ������С���.
����������1,����۲�OBS={off(B1),off(B2),on(B3)}.���û�ж�������,��ô����������ļ��������SC�͹۲�OBS����,���㲻���κ�һ������һ���Ե����.
�������ڼ��붨������DF�������(1)��(2).����SC��ֻ�����˲�����������Ϊ,���,����ʹ�û���һ���Ե���С������̻�����һ���Ե���Ͽռ�.�ɶ���1,���ȼ����(SC��DF,COMPS,OBS������С��ͻ���أ�{{S,W1,W2,B1 },{S,W1,W2,W3,W4,B2}},�����(SC��DF,COMPS,OBS)�Ļ���һ������С�������Ϊ����С��ͻ���ص���С������{S},{W1},{W2},{B1,W3},{B1,W4},{B1,B2}.��ô,����һ������Ͽռ��е����Ϊ��Щ��С������ϼ��䳬��,��Ȼ�൱��.
�������ټ�������ϵ��Ϣ(3)��(4),���õ�·����չ���������GC����SC,DF,CR��,����SC����,DF�а������(1)��(2),CR�а������(3)��(4),����ʱ����С��ͻ���ر���ˣ�{{S,W1,W2,B1 },{S,W1,W2,W3,W4,B2},{B1 },{B2}},���,����(GC,COMPS,OBS���Ļ���һ������С�������Ϊ��{B1,B2}.������Ϊ�����ϵ���۵ļ������С�������������۵���Ͽռ�,�ų������Υ����Ȼ����Ĳ����ܵ����,�磺{S},{W1},{W2},{B1,W3},{B1,W4}�Լ����ǵĲ���{B1,B2}�ĳ���.
2���������
����һ���,�ɳ�ͻʶ�𡢺�ѡ�����õ�����ϲ�ֻһ��,�����Ե�Ŀ������Ҫ��һ��������Щ��ϣ����ҳ������Ĺ�������.���ף�3�ݽ����������Ʋ���,��ָ��:���ڷ�յļ��������,���������������һ���Լ��������һ����.
��������7��3��. һ������(unit_test)��һ��ż��(I,O��,����I�ǿɻ�����ֵ�һ����ȡʽ,O��һ�۲�.
����һ������ָ�����ɲ�����������ĳһ��ʼ����I�Լ��۲�O,��һ�۲����ֵ�ɲ������ж�.��ֻ�򵥵���һ��ϵͳ�۲�����ؽ������ڲ��Եĳ�ʼ����ʱ,I=true.�ڵ�·�����,I��Ϊ��·������,O��Ϊ��·����Ľ��ֵ���м������ֵ.��ҽѧ�����,I���ܰ�����һЩʵ��,����Ѫ,�۲����Ϊ��ϸ����Ŀ.
��������8��3��. ����(I,O���Ľ����ΪO��ΪO.
�������棬�����ر��о�һ����չ���������GC�еĲ�������.
������TΪһ����,�����ñ�ʾ��T�д���һ����A��B��֤��.
��������9. ��֪GC=����C,E,����,DF,CR��,��DSΪ���ǵ�ǰӵ�е���ϼ�.�Ʋ���(I,O)�Ľ����֤ʵ(confirms)D��DS,���ҽ���I��D����DFD����.�Ʀ�����(refutes)D,���ҽ���I��DGCD����.
����������ϵͳ�Ĳ�����Ϊ{C1,...,Cn},��ALLΪ��������l1��...li��...��ln�ĺ�ȡʽ��ɵļ���,����liΪAB(Ci����OK(Ci��,i=1,...,n.
��������10. ����GC������(I,O)�Ľ�����Ļ���һ�������Ϊ��һD��ALL,ʹ��I��D�Ħ�GC��.
��������11. ����GC������(I,O���Ľ�������������Ϊ��һD��ALL,ʹ��I��DGC����I��D����DF��.
����������Ķ�����Ҫ��I��D����DF��,������I��DGC��,��ȼ��˼���,��ʹ��D������Ϊ����ԭ��.
�������濼�ǵ�ֻ�ǵ������Զ���Ͽռ��Ӱ��.������ܵļ������(differential diagnosis,���DD����������(sequential����ϲ����е�һ��.����ʵ����������ڴ��������²��ǲ�����,���������ʽ��,������������Ϲ������𲽵õ���.���,��Ͻ���γ�Ҳ������ɵ�.���ף�6���������ļ�����ϵ�ֱ�۸���Ϊ:��֪һ��ϼ�,��ִ��һ�������������ϵ��������,����������µ����.ÿһ���Ժ�����Ľ����ϼ�ǡ�ð���������������������׼�����ǵ����.
��������2(����һ����DD��. ��DSΪGC�����л���һ������ϵļ���,�����Ϊ����(true,O���Ľ��,��NEWDS={D��DS����������D}Ϊ����GC��{��}�Ļ���һ������ϼ�.
����֤��:��D��ALL,������Ҫ֤��D��NEWDS���ҽ���DΪ����GC��{��}�Ļ���һ�������.
��������D��NEWDS,���������D.�ɶ���9֪,��,�༴D�Ħ�GC��.�ɶ���10֪,DΪ����GC��{��}�Ļ���һ�������.
����������,����DΪ����GC��{��}�Ļ���һ�������.�ɶ���10֪,D�Ħ�GC��,��GCD����.����D�Ħ�GC��֪,DGC��,���,D��DS.���ɶ���9֪,��������D.����,D��NEWDS.������.
��������3(����DD��. ��DSΪGC������������ϼ�,�����Ϊ����(true,O���Ľ��,��NEWDS={D��DS����֤ʵD}Ϊ����GC��{��}��������ϼ�.
����֤��:��D��ALL,������Ҫ֤��D��NEWDS�����ҽ���DΪ����GC��{��}���������.
��������D��NEWDS�����֤ʵD.�ɶ���9֪,DGC���Ҧ���DFD����,��D����DF��.���,�ɶ���11֪,DΪ����GC��{��}���������.
����������,����DΪ����GC��{��}���������,�ɶ���11֪,DGC��,����D����DF��,��,����DFD����.���,D��DS,���ɶ���9֪,��֤ʵD.����,D��NEWDS.������.
����������������˵�������Ժ��µ���ϼ�NEWDSһ��Ϊԭ��ϼ�DS���Ӽ�,����������µ����.����ͬ����:����һ����DD��DS�����һ�µ���ϱ�������,������DD���Ǧ�ԭ��(�ڦ���DF�����߼��Ƴ���������ϱ�������.����Ĳ���������ʹ��ÿһNEWDS��Ϊ��ǰDS�ķǿյ����Ӽ�,ÿһ�β��Ժ�,���µ�ǰDSΪNEWDS,��ִ����һ������,���յõ���NEWDS��ֻ����һ�����.����,�ͽ���������ϴ��ڶ�����м������.
����ֵ��ע�����:(1����DSΪ��С��ϼ���������ϼ�(�����ǻ���һ���ԵĻ�������ģ�,������������������.ԭ���ǣ������������,���Խ�����������޼�����Ͽռ�,�����ܲ����µĲ�����DS�����.(2��������������ֻ�������(true,O���ļ򵥲���,������Դ������ʼ����I�Ĳ���.ԭ���ǳ�ʼ����I��ʵ�ֿ��ܸı���ǰ�۲����ֵ,���ѿ̻���ʱ�ļ������.
��������12. ��GC=����C,E,����,D,CR��Ϊ��չ���������,��Ϊ��ԭ�ӵ�ȷ���Ӿ伯,����ֱ��ͼΪ��ѭ����,���GC*=����C,E,��*��,DF,CR��Ϊ��յ���չ���������,���Ц�*Ϊ����Clark�걸����7��.
��������4. ��GCΪ��չ���������,GC*Ϊ��Ӧ�ķ����չ���������,DSΪGC*�����л���һ������ϵļ���,�����Ϊ����(true,O���Ľ��,����O��E.��NEWDS={D��DS����֤ʵD}Ϊ����GC*��{��}�Ļ���һ������ϼ�.
����֤��:��D��ALL,������Ҫ֤��D��NEWDS���ҽ���DΪ���� GC*��{��}�Ļ���һ�������.
��������D��NEWDS,���֤ʵD.�ɶ���9֪,DGC*��,�Ҧ�*��DFD����,��D��*��DF��.���,DGC*��.��Ȼ����D�Ħ�GC��.�ɶ���10֪,DΪ����GC*��{��}�Ļ���һ�������.
����������,����DΪ����GC*��{��}�Ļ���һ�������,�ɶ���10֪,D�Ħ�GC*��,��Ȼ��D�Ħ���*��DF��.�� D��,�༴��*��DFD����.��������ֻ��֤���Ӧ�*���ص����ֻ���Ƴ����ֿ��ܽ��:��*��DFD������*��DFD����(��������֤��֪��*��DFD�����ǲ����ܵ�,���ֻ�Ц�*��DFD������.Ϊ֤���������,����ע�⵽:��*Ϊ�����������ϵ��Ϣ�����ۦ���Clark�걸��.�ɴ˿�֪��*��DF����B,����BΪһ���,B���������ֶ�ΪAB(Ci����OK(Cj��,i,j��{1,...,n}.������D��ALL,������l1��...lk��...��ln,����lkΪAB(Ck����OK(Ck��,k=1,...,n.���,������D��B,������D��B.�ɴ˼���*��DF����B֪,�����Ц�*��DFD����,�����Ц�*��DFD����.��������֪��*��DF D����,����*��DFD�����ǲ����ܵ�.���,ֻ�Ц�*��DF D����.���� D�Ħ�GC*��֪,DGC*��,���,D��DS,���ɶ���9֪,��֤ʵD(�ɶ���11��֪,DΪ����GC*��{��}��������ϣ�.����,D��NEWDS.������
�����ö�����˵,���ڷ�յġ���չ���������,����һ���Լ��������������������һ����.
��������2��4�Ľ��ۿ�Ӧ���ڲ���ѡ��Ĳ���.���ڷ�յġ���չ���������,Ҫ�ӻ���һ������Ͽռ�������Ψһ���������,���Ǽȿ���ѡ��һ�������������������������(���û���һ���Լ�����Ϸ�����,������ѡ���ֻ֤ʵһ����ϵ�һ�����Ի�������(�������������Ϸ�����.
3 ������
��������ģ�͵���Ϸ�����һ���µ�AI����,�����Կ˷���ͳ��Ϸ�����ȱ��,��Ӧ��ҲԽ��Խ�㷺.�����ϵ��һ�ֺ���Ҫ�Ĺ�ϵ,�����ճ���������ʹ����.�������,���ǲ���ʶ���������ϵ���ڻ���ģ�͵�����������Ҫ��.��������˱ȼ�������۰���������Ϣ����չ��������۵ĸ���,���о�����չ����������еĲ�������.֤���˵������Խ������չ��������۵���Ͽռ��Ӱ��,�ֽ�һ����֤�˶��ڷ�յ���չ���������,����һ���Լ��������������������һ����.��Щ������ڲ��Բ��Ե�ѡ�������.
���������о��õ�������Ȼ��ѧ����͹��ҽ�������ʿ���������.����ŷ����ͮ,Ů,1968����,��ʿ��,��ʦ,��Ҫ�о�����Ϊ�������֤��,����ģ�͵����.���Ʒ�,1945����,����,��ʿ����ʦ,��Ҫ�о�����Ϊ����ģ�͵���ϼ��滮,�Զ�����.
��������ͨѶ��ϵ��:ŷ����ͮ,����130023,���ִ�ѧ�������ѧϵ
�������ߵ�λ��ŷ����ͮ(���ִ�ѧ�������ѧϵ��������130023)�����Ʒ�(��ɽ��ѧ���������о��������ݡ�510275��
�ο�����
��1��Console L, Dupr�� D T, Torasso P. Abductive reasoning through direct deduction from completed domain models. In: Ras Z W ed. Methodologies for Intelligent Systems. New York: North-Holland Publishing Company, 1988. 175��182
��2��Konolige K. Abduction versus closure in causal theories. Artificial Intelligence, 1992,53(2-3):255��272
��3��McIraith S, Reiter R. On tests for hypothetical reasoning. In: Hamscher W, Console L, de Kleer J eds. Readings in Model-based Diagnosis. San Mateo, CA: Morgan Kaufmann Publishers, 1992. 89��96
��4��Reiter R. A theory of diagnosis from first principles. Artificial Intelligence, 1987,32(1):57��96
��5��de Kleer J, Mackworth A K, Reiter R. Characterizing diagnosis and systems. Artificial Intelligence, 1992,56(2-3):197��222
��6��Ledley R S, Lusted L B. Reasoning foundations of medical diagnosis. Science, 1959,130(3366):9��21
��7��Clark K. Negation as failure. In: Gallaire H, Minker J eds. Logic and Data Bases. New York: Plenum Publishing Corporation, 1978. 293��322
1998-03-23�յ�ԭ�� 
1998-08-05�յ��޸ĸ�
