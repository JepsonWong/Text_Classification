自动化学报
ACTA AUTOMATICA SINICA
2000　Vol.26　No.3　P.310-316



链式系统的轨迹跟踪控制
董文杰　　霍伟
摘　要　研究了链式系统的轨迹跟踪控制问题，提出一种新的跟踪方案，设计出能实现全局轨迹跟踪的一维动态控制器，将其用于一类轮式机器人的控制中.仿真结果表明所提方法的有效性.
关键词　非完整系统，链式系统，轨迹跟踪控制，移动机器人.
TRAJECTORY TRACKING CONTROL OF CHAINED SYSTEMS
DONG Wenjie　　HUO Wei
(The Seventh Research Division,Beijing Univ.of Aero.& Astro.,Beijing　100083)
Abstract　　This paper investigates the trajectory tracking problem of chained systems.A new tracking approach is presented.The proposed one-dimensional dynamic tracking controllers can globally make the states of the systems asymptotically track the given trajectories.An application to a wheeled mobile robot is described.Simulation results show that our approach is effective.
Key words　Nonholonomic system,chained form system,trajectory tracking control,mobile robot.
1　引言
　　近年来，受非完整运动学约束的系统(简称非完整系统)的控制引起了人们的兴趣，并得到了广泛地研究(见文［1］及其中的参考文献).该系统不满足Brokett存在光滑状态反馈镇定律的必要条件，因而已有的用光滑状态反馈镇定系统的结果不能直接用于该类系统的镇定，对系统控制设计提出了挑战.尽管如此，人们仍提出了镇定该系统的几种方案，如时变镇定、非连续镇定及其二者的混合控制等.除了镇定问题外，非完整系统的跟踪控制也得到了广泛地研究.粗略地讲，跟踪控制可分为路径跟踪和轨迹跟踪.路径跟踪是一种不考虑时间的几何位置跟踪；轨迹跟踪则要求系统在指定时间到达指定位置.一般而言，轨迹跟踪的实现比路径跟踪困难得多.对于几类实际的非完整控制系统，如轮式机器人和拖车系统，路径跟踪问题已基本解决［2］，但轨迹跟踪问题还待进一步研究.文［3］用动态反馈线性化的方法讨论了几类轮式机器人的跟踪控制问题.利用微分平坦的概念，拖车系统的轨迹跟踪问题也可用类似文［3］中的方法来解决.但这种方法的不足之处是闭环系统具有奇异点和动态控制器的维数较高.针对上述缺点并考虑到轮式机器人和拖车均可局部或全局变换成链式系统.本文讨论链式系统的轨迹跟踪控制问题，设计出了一维的动态控制器，克服了文［3］中控制器维数较高以及闭环系统具有奇异点的缺陷，解决了运动学约束可化为链式系统的一类非完整系统的轨迹跟踪问题.
2　链式系统及跟踪问题描述
　　许多实际的非完整系统可局部或全局等价变换为标准的链式系统.因而，不失一般性，本文讨论链式系统的轨迹跟踪控制问题.单生成元单链系统的一般形式为［4］
　　　　(1)
其中v=［v1,v2］c是系统输入.该系统的特点为它是可控的，但其局部线性化系统不可控.给定要跟踪的期望轨迹y=［y1,…,yn］T∈Rn，假设y可由虚拟参考系统
　　　　　(2)
产生，且满足如下假设.
　　假设1.y3,…,yn有界.
　　假设2.
　　事实上，只有跟踪具有相同结构对象产生的轨迹才有实际意义，因而假设y由虚拟参考系统(2)生成是合理的.另外，对轨迹y及u的上述假设并不苛刻.
　　本文讨论的问题是对链式系统(1)，设计控制律v使得
3　控制器设计
　　为了设计出控制器，首先引入如下轨迹跟踪误差的线性变换
e=Ψ(x-y),　　　　(3)
其中非奇异常值变换阵Ψ=｛ψi,j｝∈Rn×n，定义如下：
　　　　　　(4)
式中k1,k2,…,kn-3是正的设计参数.由于Ψ是非奇异变换阵，故轨迹跟踪问题等价于设计控制律v，使变换后的误差e=［e1,…,en］T→0.
　　由方程(1)，(2)和Ψ的定义，易得变换后的误差方程
　　　(5)
基于误差动态方程(5)，有如下定理.
　　定理1.对于系统(1)和给定的期望轨迹y，在满足假设1和2的条件下，控制律
　　　(6)
能使x(t)渐近跟踪给定的轨迹y(t)，同时使得v渐近趋于u，其中μ1＞0，μ2＞0，μ3＞0，ψi,j,k1,…,kn-3由式(4)定义，kn-2＞0.
　　这一结果的证明要用到以下引理.
　　引理(扩展的Barbalat引理［2］).若可微函数f(t)当t→∞时趋于某个有限的常数，且其导数可表示成两项之和：第一项趋于零，第二项一致连续，则当t→∞时趋于零.
　　定理1的证明.方程(5)和(6)构成的闭环系统为
　　　(7)
取正函数

将V沿方程(7)求导，有
　　　　(8)
所以V非增，且有极限Vlim≥0，于是由V的定义知p和e有界，从而由假设1知xi(3≤i≤n)有界，且考虑到式(7)及假设2知有界.
　　由以上所证知

有界，所以一致连续.由引理知V趋于零，于是由式(8)知p和en趋于零.
　　又由u1有界知u21en趋于零，对u21en求导，有
　　　(9)
其中第1项一致连续(因其导数有界)，后几项趋于零(因u1,1和xi(3≤i≤n)有界，en和p趋于零).由引理知，(u21en)趋于零，于是由式(9)知u31en-1趋于零，进而知u21en-1和u1en-1都趋于零.
　　依次对u21ej(j=n-1,…,3)求导，并重复上述证明过程，可证明u21ej-1和u1ej-1(j=n-1,…,3)趋于零.
　　再由u1有界，p趋于零知u21p趋于零.对u21p求导，有

其中第一项一致连续(因其导数有界)，其余几项趋于零(因u1和xj(3≤j≤n)有界，p和u1ej(3≤j≤n)趋于零).由引理知，(u21p)趋于零，所以由上式知u21e1趋于零.
　　考虑到u21ej(1≤j≤n),p趋于零，所以u21V趋于零.因V具有极限Vlim≥0且u1不趋于零，所以一定有Vlim=0.因而，ej(1≤j≤n)和p趋于零.从而由式(3)知x渐近收敛于y，由式(6)的第二式知v渐近收敛于u.证毕.
　　注.一维跟踪控制器(6)是全局的，且没有任何奇异点.它解决了链式系统的轨迹跟踪问题，且克服了用动态反馈线性化方法设计控制器的两个缺点：1)控制器维数较高；2)有奇异点.
4　多链系统的跟踪控制
　　本节把单链系统的跟踪结果推广到多链系统的跟踪上去.因证明思路相似，下面仅给出相应的结果.
　　对单生成元多链系统
　　　(10)
设要跟踪的期望轨迹可由虚拟参考系统
　　　(11)
产生，且满足如下假设.
　　假设3.yi,j(3≤i≤nj,1≤j≤m)有界.
　　假设4.u=［u1,…,um+1］T和有界，且当
　　记x=［x1,x2,1,…,xn1,1,…,x2,m,…,xnm,m］T,y=［y1,y2,1,…,yn1,1,…,y2,m,…,ynm,m］T,跟踪问题仍为设计控制律v=［v1,v2,…,vm+1］T，使得成立.
　　按上一节的思路，考虑变换(3)，其中非奇异常值变换阵Ψ=diag［Ψ1,Ψ21,…,Ψm1］,Ψl1(2≤l≤m)为矩阵Ψl去掉第一行和第一列后对应的矩阵，而Ψl=｛ψli,j｝∈Rnl×nl(1≤l≤m)定义如下：
　　　(12)
其中k1,l,k2,l,…,knl-3,l是正的设计参数.由方程(10)，(11)和Ψ的定义，易得e=［e1，e2,1,…,en1,1…,e2,m,…,enm,m］T的动态方程为
　　　(13)
其中l=1,2,…,m.对应于定理1，有如下定理.
　　定理2.对于系统(10)及给定的期望轨迹y，在假设3和4的条件下，控制律

能使x(t)渐近跟踪给定的轨迹y(t)，同时使得v渐近趋于u,其中μ1＞0，μ2＞0，μ3,l＞0，knl-2,l＞0(1≤l≤m).
5　仿真
　　为验证所提控制律的有效性且说明本文结果的工程背景，考虑受非完整约束的(1，1)类轮式机器人的跟踪控制问题.(1，1)类轮式机器人的运动学方程为
　　　(14)
其中xp,yp,θ,βc,L见文［3］中的定义，w=［w1,w2］T为系统的控制输入量.非奇异状态变换
　　　　(15)
和输入变换
　　　　(16)
可把方程(14)变换成单生成元链式系统
　　　　　(17) 
　　假定要跟踪的轨迹(x*p,y*p)为平面上的一个椭圆，即x*p=acosωt,y*p=bsinωt.θ*和β*c由(1，1)类轮式机器人的非完整约束唯一确定.对此轨迹做类似于式(15)和(16)的变换可得到
　　　　(18) 
且可算出

及

　　可以验证y和u满足定理1的假设条件.由定理1知控制器
　　　(19)
能使x(t)渐近跟踪给定轨迹y(t)，同时使得v渐近趋于u，其中μ1＞0,μ2＞0,μ3＞0,k1＞0,k2＞0.通过简单的反变换可导出原系统的跟踪控制律，在此略去.
　　仿真中，令L=0.2,a=1,b=2,ω=1,［xp(0),yp(0),θ(0),βc(0)］=［1.8，0.9，0.5，0.5］，p(0)=0.2，取μ1=12.25，μ2=7,μ3=8,k1=5,k2=15.图1，2，3和4分别反映了四个状态变量的跟踪情况，图5反映了xp-yp平面的跟踪情况.


图1　xp跟踪x*p的时间曲线


图2　yp跟踪y*p的时间曲线


图3　θ跟踪θ*的时间曲线


图4　βc跟踪β*c的时间曲线

图5　xp-yp和x*p-y*p的曲线
6　结论
　　本文研究了链式系统的轨迹跟踪控制问题，提出了一种新的跟踪控制方案，设计出了实现全局跟踪控制的一维动态控制器.它克服了动态反馈线性方法设计控制器的两个缺点――控制器维数较高和闭环系统具有奇异点.将其用于一类轮式机器人的跟踪中，仿真结果表明了所提出方法的有效性.另外，本文设计方法可以推广到链式非完整动力学系统的轨迹跟踪及具有未知参数的链式非完整动力学系统的自适应轨迹跟踪控制，将另文给出.
国家自然科学基金资助课题.
　　董文杰　北京航空航天大学第七研究室博士生.研究领域为机器人动力学与控制、鲁棒控制、非线性系统控制.
　　霍　伟　见本刊第20卷第3期.
董文杰（北京航空航天大学第七研究室　北京　100083）
霍伟（北京航空航天大学第七研究室　北京　100083）（E-mail:whuo @redchina.com）
参考文献
［1］　Kolmanovsky I,McClamroch N H.Development in nonholonomic control problems.IEEE Control System Magazine,1995:20～36
［2］　Samson C.Control of chained systems――Application to path following and time-varying point-stabilization of mobile robots.IEEE Trans.Autom.Control,1995,40:64～77
［3］　d'Andrea-Novel B,Campion G,Bastin G.Control of nonholonomic wheeled mobile robots by state feedback linearization.Int.J.Robotics Research,1995,14:543～559
［4］　Murray R M,Sastry S S.Nonholonomic motion planning――steering using sinusoids.IEEE Trans.Autom.Control,1993,38:700～716
收稿日期　1997-11-02
修稿日期　1998-05-18
