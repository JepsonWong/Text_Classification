计算机应用研究
APPLICATION RESERCH OF COMPUTERS
2000  Vol.17　No.1　P.44-46




在CSCW系统中应用IRC
曹重人　蔡亦波　陆松年
摘 要 探讨在CSCW工作系统中采用IRC的可能性及模式。首先，简要地介绍了CSCW和IRC基本概念，然后对协同工作中人际交流模式进行了分类研究。最后，在CSCW系统中实现IRC机制进行了研究并介绍了一个简单的IRC模型实现
关键词 CSCW IRC 协同工作 电子会议系统 开发环境
1　引言
　　随着经济的全球化和通信、交通技术的发展，越来越多的企业和社会团体从事于全球性的业务。同时，网络技术和分布式系统的普及，计算机技术也从传统的单用户工作模式向多用户协同工作模式的方向发展。如何利用网络技术为地域分布极为分散的各个部门提供协调工作的机制，便成为计算机应用研究的一个热点。1984年，Irene Greif和Cashman提出了计算机支持的协同工作(CSCW)的概念。从此，越来越多的科研人员投入了对CSCW的研究与开发。
　　CSCW领域研究的一个重要方面是如何为分布在不同地点的人们提供便捷的交流、探讨、协商的工具。就该点而言，目前人们普遍重视的是视频会议系统。尽管视频会议能提供逼真、全面的信息，是解决异地交流的最佳途径，但是它的实现要较大的投资，对网络设施要求高。在目前的条件，特别是中国，推广应用有一定难度。另外在一个企业内部，关键是数据和资料的交流，有时视频会议所提供的图象和声音服务会显得多余。因此，笔者认为IRC工具在企业内部协同工作中仍有广泛的应用。
2　CSCW和IRC简介
　　正如名字所示，计算机支持的协同工作CSCW (Computer Supported Cooperative Work)可定义为这样一个计算机系统，它支持多用户参与一个共同的任务，并提供给他们访问共享环境的接口。多用户为完成一个特定的任务而组成一个用户群(Group)，CSCW为这样一个用户群提供协同支持。因而，在不要求严格定义的场合下，通常也将群件(Groupware)视作CSCW的同义语。
　　计算机支持的协同工作的研究，适应了信息化社会中人们工作方式的群体性、交互性、分布性和协作性特点，因此被认为是未来社会中广泛采用的技术。为支持在空间上分布、时间上不同步的群体成员协同完成任务，CSCW系统不仅要解决分布性问题，处理应用领域的特殊性，而且要提供面向用户的协作支持。这使得CSCW系统非常复杂，其研究工作也相当困难和艰巨。
　　CSCW的研究目的是支持一组用户协同解决问题，协同通过交互实现，因而常根据交互方式是同步(Synchronous)还是异步(Asynchronous)的和交互的地理位置是本地(Co-located)还是远程(Remote)的对CSCW系统进行分类，一般分为四类：(1)同时同地型如电子白板；(2)同时异地系统如视频会议系统；(3)异时同地系统如公告栏；(4)异时异地系统如电子邮件。在绝大多数CSCW系统中，为用户组提供协商交流的工具都是必不可少的。这种工具的迅速、方便、便于理解的程度便成为一个成功CSCW系统的重要指标。而IRC系统恰恰是这样一个便捷的工具。
　　IRC(互联网中继谈话)是一个同时异地的基于文本形式的电子会议系统，其本身可以视为一个简单的CSCW系统。它可以让分布在不同地点的人们克服时间和距离的障碍，进行实时的交流。目前，一般的IRC软件主要用作人们业余时间交流工具，并未在协作群体的协作中广泛利用。其基本框架如下。
　　整个IRC网络是基于服务器/客户机构架的，由作为节点的若干分布式服务器程序和许多与某一服务器相连的客户端程序，以及联系两者的通信链路组成，如图1所示。

图1　ICR基本网络框架图
　　。服务器(Server)是IRC网络的节点，服务器与服务器之间通信链路和服务器组成IRC网络的骨架。每个服务器都拥有自己的客户组，作为客户进入IRC网络的接入点，客户只有登录上某一服务器才能通过IRC网络进行相互交流。
　　。客户(Client)是通过IRC网络进行交流的人。客户利用客户端程序与服务器相连，不同客户以客户名相区分。另外，客户的下列信息也需保存在IRC网络的所有服务器上；客户端程序所运行的主机名；客户在该主机上的用户名；该客户所连的服务器名等。
　　。消息(Message)是客户之间，服务器之间，客户与服务器之间相互传递的文本，是IRC交流的语言媒体。一条消息是长度不超过5l2个字节的ASCII字符串，由前缀、命令、参数组成。
　　。通道(Channel)类似于电话交换系统中的链路，每个通道都有一个名字，同一通道的每个客户可以收到发往该通道的所有消息。当客户进入系统时，可以加入一个现有的通道或建立一个新的通道，当某一通道的最后一个客户离开时，该通道自动消除。对于现有通道，客户用通道名与其联系。通道有许多性质，例如：通道模式(客户可随意进入，应邀许可进入等)，通道管理员，通道上传递的消息纪录等。这些性质在CSCW系统中可以充分利用。
　　如图1，IRC可以提供客户之间一对一(如client1与client2之间)，一对多(如client3与client1，client6，client8)，一对所有(如client2与所有其他客户)的交流。还可以提供主机或服务器掩模通信交流(如clientl与server4所有的客户)。多种交流模式也为IRC在协同工作中的应用提供了可能。
3　协同工作中人际交流模式初探
　　CSCW研究的一个重要课题是对人们协同工作的各种方式进行总结和建模，使CSCW系统更好地支持人们协同工作。IRC是一种人际交流工具，因此要把IRC应用到协同工作中，首先要对协同工作中人际交流的模式进行归纳和总结。人际交流的两种主要模式是：
　　。面对面(Face to Face)同一协作群体的成员能在相同的时间和地点会面，他们主要的交流工具是语言。
　　。分散式(Dispersed)协作群体的成员被距离和时间所分隔，无法进行面对面的交流。他们主要是利用现代通信技术来进行信息的传递，包括：电话、传真、电子邮件和计算机会议。
　　显然，对分散式的人际交流，IRC不失为一种便捷的交流工具。要把IRC应用到地域分散的同一协作群体(企业、社会团体、研究机构)当中，还需要对同一协作群体中的人际交流方式进行分类。
　　(1)会议式
　　会议是群体工作中必不可少的一种交流方式。在对重大问题作出判断和决策之前，群体的部分或全体成员要通过会议的形式来协调。在面对面的交流中，会议式具有几个明显的特点。第一，有一个专门的会议室，或类似功能的临时场所。第二，参加会议的成员有人数、级别等限制。第三，会议开始后一般不允许成员随意加入或退出。第四，会议有预期性，并有专人主持。第五，参加会议的成员一般不能再从事其它工作。在分散式的协作群体交流中，会议的形式也是必不可少，同样也具有与上述几条相应的特点。
　　(2)讨论式
　　该方式也是一种多人参加的交流方式，其区别于会议式的最主要方面是严肃性的不同。它的发生是偶然的，参加的人员是随意的和平等的，职务和级别往往不起作用。在面对面的交流中，讨论可能发生在工作场所的任何一个地方。其主要目的是群体工作者之间了解他人观点，交流看法，增加信息量。如果利用IRC，对分散式协作群体的每一个成员，他/她可以同时参加几个不同的讨论。
　　(3)询问式
　　这种方式发生在两个成员之间。一种情况是短期的，某一位成员向另一位成员询问一些信息，获得信息之后即结束交流。另一种情况是长期的，指协同工作的两个成员始终保持着一条交流通道，不定期地进行信息的交流，例如共同写作的双方，共同实验的双方等。
4　协作式IRC实现的思考
　　地域分散的协作群体在网络构架上一般有如下特点：在每一个本地，都有一个或多个局域网，并和广域网Internet相连。不同地点的协作者通过服务器，利用广域网进行通信。与用于人们聊天的IRC相比，协作群体的IRC在(a)服务器地位，(b)客户信息和(c)通道属性等方面应有明显的不同。
　　从服务器角度讲，一般IRC软件认为各服务器是相互平等的，每个服务器都存储着大量的客户和通道及其它服务器的信息。但是用于协同工作，特别是用于企业内部，由于企业各部门间是不平等的，如有总部和地域分部之分，所以在服务器配置上应体现此种区分。根据不同的协作关系，可以是多层次等级的IRC服务器网络。例如，设置可以管理其它服务器的中心服务器，配合数据库，可以让下层服务器省去存储大量重复信息的负担。所有客户、服务器和通道信息储存在数据库中，各服务器通过中心服务器到数据库查询。用数据库存储历史交流文本，用中心服务器统一管理，执行查询等。
　　从客户的角度，聊天娱乐用的IRC中各客户之间是平等的关系，最多是第一个进入通道的客户具有管理该通道的少许基本权力。但是在协同工作中，协商者之间往往是不平等的，有职务、级别、作用上的不同。特别是在会议式的交流中，并不是所有人都可以召集会议的，并有平等的发言权。所以客户信息不仅要包括客户名、客户所在的服务器名(指明该客户所在的部门和地区)，还应有该客户在协作群体中的职务、作用信息。另外，客户的工作状态信息也是协同工作IRC系统应利用的一项重要信息。例如，某二个客户正与其他一些客户在参加一项重要会议，此时如果这俩人之间建立一个私人通道，进行桌面底下的谈判，这显然是不合适的。所以需要一项指标来表示协作群体中每一成员的工作状态。对于不同的CSCW系统，IRC所使用的客户信息也是各不相同的。
　　就通道而言，把IRC应用到协作群体内部，应该提供与前述三种交流类型相适应的不同通道类型，可以利用通道属性来设置。对会议式的交流，可以设置一些固定通道，类似于会议室；也可以临时设置通道类型为其他客户无权进入型或应邀进入型。通道管理者权力(即会议主持者)，可自动赋予参加会议的客户中具有一定职务特征的客户，也可由会议召集人或客户事前决定。此类通道上的消息内容应自动予以保存。对于讨论式的通道，通道管理者一般为讨论发起者，即通道建立者，可由通道管理者决定通道的性质为随意进入或许可进入，交流消息内容是否保存等。对于询问式通道，应由发起者决定是临时性的(一定时间内没有消息传递，通道自动关闭)还是长期的(由询问双方决定通道的关闭)。
　　上述各种实现上的设想，对CSCW系统的开发环境提出了较高的要求。一个开发环境应提供双重的客户开发构架，以开发IRC工具为例，首先应使开发者能设计某一具体CSCW应用的特殊开发环境，在该环境中设定将被开发的对象特征，如客户的属性列表项目数等。然后，开发者在一次开发的环境中进行具体面向用户的系统开发。
5　一个简单的协作式IRC模型实现
　　图2表示了一个简单协作群体内部的IRC模型实现。

图2　协作式IRC模型
　　与Internet相连的是IRC网络的服务器，其中与数据库相连的是中心服务器。数据库用于记录所有服务器、客户、通道信息，还记录历史谈话的文本记录，例如所有服务器的IP地址，服务器之间的路由信息，每一个客户的名称、职务作用信息，工作状态信息，还有每一个通道包括的服务器、客户及属性等。其它服务器仅记录本地的客户及通道信息。如果客户需要与异地客户建立联系，则通过本地服务器向中心服务器及数据库查询。如果有从协作群体以外来的请求，统一交给中心服务器处理。这样既便于内部管理又有助于提高安全性。
　　从实现机制上考虑，采用TCP/IP协议，TCP提供了可靠的传输连接服务，很适合于此类电子会议系统。服务器采用SOCKET侦听机制，接受来自客户和其它服务器的请求。在每个服务器中设置一个IRC消息队列，收集来自本地所有客户的消息，采用FIFO机制并根据网络流量顺序发送消息。在每个服务器中设置IRC配置文件，记录本系统内各服务器的IP地址和本地客户的主机信息，以及一些动态信息，诸如本地通道涉及的服务器及客户，供通道建立、解除、客户加入、退出时使用。
　　通道的建立过程如下：某一客户l发出建立一通道的命令给服务器A，包括所要通话的其他客户通道的属性。服务器如果发现有非本地客户，即向中心服务器查询，中心服务器返还有关客户的服务器IP地址给服务器A，服务器A再向有关服务器发出建立通道的请求，包括通道的属性和有关客户。各服务器根据本地配置文件接受，部分接受(有的客户接受，有的拒绝)，或拒绝。通道建立之后，由服务器A把通道信息送交中心服务器。所有客户都可以向中心数据库查询现有通道信息，以便选择加入某些通道。
6　小结
　　协同工作的模式是CSCW研究的重要方面，本文初步研究了在不同地点协同工作的人们交流的各种模式，并结合IRC，提出了一个用IRC实现有关交流模式的模型。相关的进一步工作有安全性的保证，用户界面的便捷化和人性化等。上述几方面的研究和进步对CSCW的广泛应用起着关键作用。
曹重人（上海交通大学现代通信研究所 上海 200030）
蔡亦波（上海交通大学现代通信研究所 上海 200030）
陆松年（上海交通大学现代通信研究所 上海 200030）
参考文献
1http://www.whatis.com/irc.htm IRC(Internet Relay Chat)
2J. Oikarinen D. Reed, Internet Relay Chat Protocol RFC-1459
3http://www.irc.net/about/whatisirc.html .What is IRC
4史美林. CSCW: 计算机支持的协同工作. 通信学报, 1995,16(1): 55～61
5http://ksi.cpsc.ucalgary.ca/course/547-95/pfeifer/cscw_domain. html pfeiffer, Ucalgary. The Domain and Goals of CSCW
收稿日期：1999年6月20日
