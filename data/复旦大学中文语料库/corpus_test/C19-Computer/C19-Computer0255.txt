���ѧ��
JOURNAL OF SOFTWARE
1999�� ��2�� No.2 1999



�Ӿ������л���ģ������������Ӱ�㷨�о�
��ľ�ӡ���ڡ�����ƽ���ο��ҡ��š���
����ժҪ����ʵ�ʵ�Ӧ����,���������ƶ������������Ÿ��ӵĻ���,��·�г�����Ӱ��ˮ���Ȼ�������.��Щ�������ص����������ĸ����Ӿ������㷨��³����.�����һ���µ����������ƶ������˵�������Ӱ�����㷨.������ʹ��ģ�������ڵͷֱ���ͼ���϶���Ӱ����ʶ��,�����Ŵ��㷨��������ṹ�Ż�,�������ԭʼͼ������Ӱ�ķ����͹���.ͬʱ���������ø��㷨��THMRIII�����ƶ��������Ͻ��е�ʵ����.
�����ؼ��ʡ�����Ӱ,�Ӿ�����,ģ������,�Ŵ��㷨.
������ͼ������š�TP18
Shadow Eliminating Algorithm with Fuzzy Neural Network in Vision Based Navigation
GUO Mu-he YANG Lei TAO Xi-ping HE Ke-zhong ZHANG Bo
����Abstract����In past decades, there are many vision algorithms. In practice, the environment in which robot stayed is filled with stochastic noise such as shadow, puddle, and fallen leaves. Those factors damage the robustness of the past vision navigation algorithm. A new method to eliminate shadow during mobile robot navigation is presented in this paper. The presented method gives a detailed description on how to use fuzzy network to recognize and eliminate the shadow in low-resolution image during robot navigation, and optimize the structure of fuzzy neural network by genetic algorithm. Also, the experiment results obtained on THMRIII Mobile robot unit_test-bed are given in this paper.
����Key words��Shadow eliminate, vision navigation, fuzzy network, genetic algorithm.
�����ڹ�ȥ10����,�����Ӿ��Ľ�չ�ǳ�����.�����������Ӿ����Ȿ��ĸ�������ɵ�,���Ǻ����ҵ�һ�ֶ��Ի����ķ�ʽ�������Ӿ�����;��һ��ԭ�����ܵ���ͳ�ļ����ֶε�����.�ô�ͳ��������ʶ����Ҫ����ȷ���Ե���ֵ���㹤��,����΢�������,�����ڸ��ӻ�ȷ��ϵͳ�оͺ����ҵ�һ��ȫ�ֺ����Է�����ϵͳ�Ľṹ���з���.��10����,����������Ϊ��Ҫ�㷨�������Ӧ�úܶ�,����Ҳ�������������,����,����Ȩֵ������������������������.���֮��,ģ����������һ�����нϴ������,ͬʱ,ģ�������ṩ��һ��������,�ܹ���ģ�����������еĽ�ǿ���������������������е���ѧϰ������Ӧ���ݴ��ԺͲ���������.
����ģ����������ģ������Ŀ��ƺ;���ϵͳ�ѱ���Ϊ�㷺��Ӧ���ڸ�������֮�У�1,2��.ϵͳ�е�ģ������ͨ����������ר�ҵ�����������������,����ʵ���������֪ʶ������������.����,��Щѧ�����������������ֱ���Զ��Ƶ�������,��������������֪ʶ.�����ף�3��������Ļ���ģ�����������Ӧ����ϵͳ,�������ַ����ܹ��Զ���ʶģ���߼��������������,������������ϵͳ����ȷ����������.����,��Щѧ�����ģ�������������������㷽ʽ���������ѧϰЧ�ʣ�4��.ģ����������������������,һ�����ӵ�ϵͳ������Ҫ������ģ�����Թ�������,�Ӷ����ģ�������ĸ����Խϴ�.��������޵�ʱ���ڽ�����Ч�������ȡ��һ���ǳ���Ҫ������.���ף�5�������ʹ�������Է����ķ�������ģ������.
�����Ӿ��������ڻ������Ӿ�������ռ����Ҫ�ĵ�λ.����,�㷨��³���Գ������ڻ���������Ӱ���������,����,���������������Ӿ������е���Ҫ����.����������������������ȵ���Ӱ��ˮ���ȵ�.�ڱ�����,����������õͷֱ���ͼ��,ʹ��ģ�������ķ������л�������������.
1���㷨����
����������֪ʶ��ֱ����ȡģ��������һ�������ѵĹ���,�����漰���¼�����Ҫ���أ�(1) ���������ı�﷽ʽ��(2) ģ��������ƵĹ���,������ṹ��������̣�(3) ��Ч�������Ŀ,�����е������Ⱥ����ı����ģ����������ж��������������о����Ե�Ӱ��.����,�������ȶ��������Ⱥ����ı��.������Ӱ��ˮ����ͼ������û�нṹ���ԵĴ�߶�����,����û��ʲô������������֪ʶ����.���ǵľ��߹��̻�����������,����Ӱ��ˮ����ͼ�����ɫ����Թ̶���.����Ȼ����������,�κ��������Ӱ��ɫ�����ֳ�һ�������ۿ����ǰ����������ƺ�ɫ,�����е�ɫ�سɷ������ü򵥵Ĺ�ʽ��������.���ǲ�������ѧϰ�ķ���,���й���Ӱ��ˮ����ɫ�سɷֵ�֪ʶ��Ȩֵ�ֲ���ʽ��¼����,�Ӷ��ﵽʶ���Ŀ��.ʶ����Ӱ��ģ��BP������ͼ1��ʾ.����,�����R,G,B�ֱ�Ϊͼ�������أ�i,j���ĺ졢�̡�����ɫ����ǿ�ȣ��Ҷȣ�����2����ģ������������,����ͼ2����ͨ���ֱ����,������Ϊ
{ai,0��ai��255��ai��ai+1,i=1,2,...,12},����������������(1)
�����˸ò㼰��һ��Ľṹ����ͨ��ȡ��ͬ�Ĳ�����������3��Ϊģ�������,��ȡ������ʽ:
If (=p And =q And =r) Then RuleNo=i; i=0,1,...,127
�����Ϊ��Ӱ�б�Ķ�ֵ����,

��������������
����ͼ1��R,G,B��·�Ҷ�ģ������������������������ͼ2����Ӱʶ������
1.1��ʹ���Ŵ��㷨������ṹ�����Ż�
�����Ŵ��㷨����ΪHolland���,�����Ӧ�õ����������6��.�Ŵ��㷨��Ϊ�㷺��Ӧ���������Ż�.����������Ż��������������,���ѽ�����ֵ�����󵼵ķ�ʽѡ���Ż�����,���ʹ������������㷨�Ե÷���,���,��Щѧ�����Ӧ���Ŵ��㷨��������Ľṹ�Ż�������ѧϰ����Ѱ��ֲ���С��.���ǵķ����ܵ������۵������.���������������ṹ���Ż���ѧϰ����,��Ҫ����Բ�����(1)��ѡ��,�����Ŵ��㷨��������Ż�.
��������Ⱦɫ��Si=(xi,yi,zi),����xi,yi,ziΪR,G,B��·����ģ������������Ⱦɫ����{xi,yi,zi},��ô,�����Ŵ����ӽ��й�����ȡ�Ĺ������£�
�����㷨1. ʹ���Ŵ��㷨���й�����ȡ
������1������������ͼ��ȷ��Ⱦɫ���ʼ����⣻
������2����ѡ���Ŵ�����,�����µ�Ⱦɫ��������أ�
(1) ����CROSSOVER������Ⱦɫ���1�ͦ�2�ֱ���ͬһ����λ���п�,�������ν���,�õ��µ�Ⱦɫ��.
(2) ͻ��MUTATION������Ⱦɫ���1��ĳ���򴦷����ı�,����Ӱ����������.
(3) λ��SHIFT������Ⱦɫ���1��ĳ���򴦷����仯��������С��,��������ͬһ�����������ƽ�������յ�,�������С����.
������3������ѡȺ����������,����ﵽֹͣ�������˳�,���������2��.������Ŵ�ѡ�ŵ��ʶȺ�����Fitness��Ϊ
,��������������������������������(2)
���Ц�Ϊ��Ч������,��Ϊ��Ч������.����,��������ԭʼͼ���ѱ����Ӱ�������ɼ�,���нṹѧϰ,���տɵõ��Ż���ģ��������.
1.2 ѵ��������ѡ��
��������Ȩֵѵ���Ĺ��̲�����ͨ��BP����ѵ����ʽ,������Ҫ������ѡȡ������Ӧ�Ĵ���.����,������Ȼ���ջ����ĸ�����,ʹ�������ĵ����Ժ����ж�,������ѧϰ���뱣����������ƫ��.ͬʱ,����BP���������������������Ľṹ����������������ĸ��ӳ̶�ֱ�����.���,�ڽṹ�������Ż���ǰ����,����Ӱʶ��ѵ���ĺû�,��Ҫ�ڸ��ֹ��ջ�����,�ɼ������������о���,Ȼ������ѧϰ.�������Ľ���ǵõ�������Ȩֵ�ֲ�,ÿһ��Ȩֵ��Ӧһ�������ಢ����һ���ķ�������.�����繤��ʱ,�����ж�����ͼ��������֪����һ��,Ȼ�������Ӧ��һ��Ȩֵ.�������Ҳ�����֪������ƥ��ʱ,˵�����绹Ӧ���������µ�һ�ಢ��ѧϰ.���,����ʵ��Ӧ����˵,һ����������ʶ�������γ�Ӧ����һ������ʽ�Ĺ���.
����ѡ��һ���õľ����㷨������Ҫ.����������㷨�Ļ���������£�
����(1) ����������Ӱʶ���ͼ��������Ⱥ�ɫ��ָ����ϵ:��������ʵ��ɸѡ,ȡ���¼���ͼ��������
(1.1) ���ȣ�ѡ���׼���ȷ���
Y=0.22R+0.587G+0.114B,��������������������������(3)
��һ������ͼ���ƽ�����ȡ�������Ϊ
������������������(4)
(1.2) ��ɫ���Ͷȣ�ȡ�졢�̡�������ɫ����Ա��Ͷ�Ϊ
������������������������������(5)
��һ������ͼ�����ɫƽ�����Ͷȷֱ�Ϊ
��������������������������(6)
���,��{MY,SY,MR,MG,MB}��Ϊ��������ָ�꼯.
����(2) ����ģ�����ƾ���ȡP={p1,p2,...,pm}Ϊ����ͼ��,��ģ����ϵ��F(U��U)����:
��������(2.1) �Է��� ��(u,u)=1,u��U��
��������(2.2) �Գ��� ��(u,v)=��(u,v),��u,�ԡ�U,
��Ϊģ�����ƹ�ϵ,R=(rij)5��5Ϊ�������ָ�꼯��ģ�����ƾ���,��Խ���Ԫ��Ϊ 1,rij��ʾ����ͼ��pi��pj����ѡ����ָ�꼯���Ƶĳ̶ȣ�����ϵ����.������ѡָ�꼯������С������rij,
������������������������������(7)
����pik��ʾ��i������ͼ��ĵ�k������ָ��ֵ.
����(3) ���ࣺ��ģ�����ƹ�ϵ��F(U��U)����Ϊģ���ȼ۹�ϵ*��F(U��U),��
��������������������������(8)
�Ԧˡʣ�0,1�ݽ�ȡR*��R*��,���ջ�����ͼ�񼯵ķ���.
2��ʵ����
�����ڲ�ͬ���ڣ������ġ����������ͬ�������������硢���硢���磩����ȡ100������ͼ��(��ͼ3�е�(1)����ʾ),��1.2�������������о���,ȡ��=0.5,���õ�5����,��ͼ3��(a)��(e)����ʾ,����(e)��Ϊ��ˮ������.��ѧϰ����5��Ȩֵ,ͼ3�е�(2)��(3)����ʾΪ�ò���ͼ��õ�����Ӱ��ˮ��ʶ����,��ͨ����Ӱͼ��ԭʼѹ��ͼ���Ե���ͼ,��������ͶӰ��ϵ�ȶ���֪ʶ,���յõ������ĵ�·���ϰ����Եͼ.��ʵ���л�����,�õͷֱ�������64*64ѧϰ,�ڸ߷ֱ���256*256�¹���,��ʶ������ʼ���������.��64*64�ֱ�����,������ʶ��ʱ���Ϊ250��s(PC-586,��Ƶ133Hz),ʵʱ�Ժܺ�.


(a) ������:1%����(b) ������:4%����(c) ������:2%����(d) ������:2%����(e) ������:1%
���е�(1)��(3)�зֱ�Ϊԭʼͼ����Ӱʶ��Ͷ���Ӱ���������
ͼ3����THMRIII�����ƶ�������ʵ��ƽ̨�ϵ�5��ʵ��ʵ��
3 �� ��
�����ڻ����Ӿ���Ϣ������ʽ�ƶ������˵��������о���,Ŀǰ��������Ҫ�������㷨�ĸ�������ʵʱ�Ե�ì��.���ӵ���ʵ����Ҫ���Ӿ�ϵͳ׼ȷ����ȡ����������ĵ�·����������·�꣩,����Ʊ�Ҫ�ڼ�����Ѱ��������,��֮ͼ������е���Ϣ��ģ������,ʹ�ò��ô�ͳ�Ļ����Ӿ���ͼ����������ͻ���㷨�����Ե���Լ.����һ����,�˶��ŵĻ������ǲ������֪ϵͳ�нϴ���ӳٵ�.ͨ���о�ʵ��,��������������巽������ʶ��ǽṹ����ȷ�������������������ȣ�������ǰ;���ֶ�,���۴��о�����ʵ�ü��������Ͽ�,�������.����,�����Ŵ��㷨��������ṹ���Ż���һ�ֺ���Ч���ֶ�,����BP���Ĳ���ѧϰ����,�������������ͳ�����Խ��з���ѵ��,�������Դﵽ�ܺõ�Ч��.
������Ȼͨ��ʵ�ʼ���,��������ͳ����������ķ���ѵ��BP����Ȩֵ�ܹ�ȡ�ýϺõ�Ч��,���Ի����Ӿ��������,���ӵľ����ж�����������ʱȴ����������.��Ϊ���߷���ѧϰ�ĺ����,����ʱͬ����Ҫ�����б�,��ͼ��ͳ�������������ļ��㸴���ԱȽϸ�,��ʹ���������߹�����ʵʱ���ܵ��ϴ�Ӱ��.����,����ʹ�õͷֱ���ͼ������Ϊģ���񾭵�����,���������������ռ����Ч��.ͬʱ,�򻯵�ģ����������������Ч��.
����������������㷨�����ܽ������ڡ����塱�ڼ�Ĳ��ֹ����Ļ����������.��Ȼ����ȡ����һ���Ľ�չ,������ͬʱҲ��ʶ�������Ų�������,��Ҫ��һ�����ƺ͸Ľ�.����,����Ӧ���ڻ����Ӿ�ϵͳ�������ķ���ѵ������,�����һ���о�,���ҵ���ѷ����㷨,��֤�����ʵʱ��������.
���߽��ܣ���ľ��,1940����,����,��Ҫ�о�����Ϊ������.
��������������,1970����,��ʿ��,��Ҫ�о�����Ϊ�������Ӿ�����,������ʵ.
��������������ƽ,1958����,��ʿ,��Ҫ�о�����Ϊ�������Ӿ�����.
�����������ο���,1936����,����,��Ҫ�о�����Ϊ������,�Զ�����.
��������������,1935����,����,��ʿ����ʦ,�й���ѧԺԺʿ,��Ҫ�о�����Ϊ�˹�����,������.
����ͨѶ��ϵ�ˣ���ľ��,���� 100084,�廪��ѧ���ܼ�����ϵͳ�����ص�ʵ����
���ߵ�λ����ľ�ӡ���ڡ�����ƽ���ο��ҡ��š��ࡡ�廪��ѧ�������ѧ�뼼��ϵ��������100084���廪��ѧ���ܼ�����ϵͳ�����ص�ʵ���� ������100084
�ο�����
����1��Ii Hong Suh, Tae Wonkim. Fuzzy membership function based neural networks with applications to the visual serving of robot manipulators. IEEE Transactions on Fuzzy Systems, 1994,2(3):203��220
����2��Liu Jian-zhuang, Xie Wei-xin. Pyramid segmentation of color images using fuzzy-C means cluster algorithm. In: Proceedings of 1993 IEEE Region 10 Conference Computer Commune Control Power Engine. 1993. 1130��1133
����3��Jang. ANFIS: adaptive-network-based fuzzy inference system. IEEE Transactions on Systems, Man and Cybernetics, 1993,23(3):665��684
����4��Buckley J J, Yoichi Hayashi. Fuzzy neural networks: a survey. Fuzzy Sets and Systems. Amsterdam: North-Holland Publishing Company, 1994. 1��13
����5��Chao Y. Chen J, Teny C C. Simplification of fuzzy-neural system using similarity analysis. IEEE Transactions on Systems, Man and Cybernetics, 1996,26(2):180��190
����6��Thomas Back. Evolutionary computation: comments on the history and current state. IEEE Transactions on Evolutionary Computation, April 1997,(1):3��17
����1997-10-24�յ�ԭ��,1998-01-09�յ��޸ĸ�
