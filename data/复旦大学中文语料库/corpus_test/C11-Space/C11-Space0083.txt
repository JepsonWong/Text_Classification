���ռƲ⼼��
AVIATION METROLOGY &MEASUREMENT TEHNOLOGY
1999�ꡡ��19����4�ڡ�Vol.19��No.4��1999



ALPHA900ϵ�����ݲɼ�������ϵͳ�����
����Ө+��
ժ��Ҫ��������һ�����ݲɼ�������ϵͳ�Ĺ��ɼ��������ƣ�����ϵͳ�������Ʒ�������Ҫ���ܺ���Ҫ��ɫ���������ۡ�
�ؼ��ʡ����ݲɼ���ALPHA900��ģ�顡PCB��
Design of Series ALPHA900 Data Acquisition Test System
Chen Liying
Abstract��The system configuration and its software design of a data acquisition unit_test system are presented in this paper.The design method of the system software,main functions and characteristics are discussed.
Key words��Data acquisition,ALPHA900,Module,PCB
����
����ALPHA900ϵ�����ݲɼ����ܹ���ģ���ź�(���¶ȡ�ѹ�������衢��ѹ��������Ӧ���)�������ź�(�翪��״̬���¼����񡢲�Ƶ������)�����������߾��ȵĲ��������п�������ǿ��ͨѶ���ʿ졢�������Զ�����ܻ��̶ȸߡ�ʹ�ü�����װά�������һϵ���ŵ㣬��������Ƕ��������̺������豸�������м�⡢��ȫ������������Ϻ��Ż����Ƶ����빤�ߡ�
�������ݲɼ������������̼������Ҫ��һ��������ڲ�Ʒ����ǰҪ�����ϸ�Ĳ��ԡ������Ĳ��Է������ǲ�����Ա��Windows���ն˷��滷���£����ղ��Բ��裬�������������������ն���Ļ�ϼ�¼�������ݣ�����Ч�ʵ͡��ɿ��Բ���ҶԲ�����Ա��Ҫ��Ҳ�ϸߡ�����������⣬������ALPHA900ϵ�����ݲɼ�������ϵͳ�����ص��ǣ�
�������Ѻõ��˻���������ʹ�ò��Ա�ü򵥡����,��רҵ��ԱҲ�����ײ���������ȥ�˲�����Ա�������ѯ��������������࣬������˲��ԵĿɿ��ԡ�
������ʵ�ֲ��Ե��Զ������������Զ���¼ʵʱ���ݡ�
������Ժϸ��Ʒ���м����������
1��ϵͳ��Ӳ���ṹ
����ϵͳӲ����ALPHA900ϵ�����ݲɼ�������Դ��У׼����ͨѶ���º��������ɣ���ͼ1��


ͼ1��ϵͳӲ���ṹͼ
����ALPHA900ϵ�����ݲɼ����ǲ���ϵͳ����Ҫ��ɲ��֣�������ɶ�·�������źŵ�ɨ�衢�ɼ����Ŵ�A��Dת�����źŷ��͵ȹ��ܡ�
�������ݲɼ������12 Vֱ����Դ����ͨ��ͨѶ�����������Ĵ���ͨѶ��������
����У׼������Ϊ����ϵͳ�ṩ��׼�źš����ݱ����źŵĲ�ͬ��У׼��������ֱ����ѹУ׼���������䡢Ƶ�ʼƵȡ���У׼�������ݲɼ�����һ�������ɼ�ͨ��������ͨ���Ƚ�ϵͳ�Ĳ��Խ����У׼���ı��ֵ�������Ʒ�Ƿ�ϸ�
2��ϵͳ����Ĺ���
1)�򻯲��Թ���
�������ݹ��ܵĲ�ͬ��ALPHA900ϵ�����ݲɼ����ɷ�Ϊ��ͬ�����ģ�飬ÿһ��ģ�����ǰ�����뾭��������ԣ�PCB����ԡ��ϻ����ԡ�У׼���Ժ����ղ��ԡ���ÿһ������ֳַ����ɲ��裬����ÿһ������Ҫ��ģ�鷢����������Ҫ���һ��ģ����������ԣ�������Ա��Ҫ������ʮ����������������ԣ����������Ϊ������������Ա�뷴�������������������������ϵͳ�������һ���⣬��������������ȱ��洢��һ�����ť������ʱֻ�赥���������ť��������Զ�����ģ�飬�ȷ�����������˿ɿ��ԡ�ͬʱ������ϵͳ�������Ѻõ��˻��������棬ʹ�÷�רҵ��ԱҲ�����׵ؽ��в��ԡ�
2)�Զ���¼����
�������Ե�ʵʱ����ͨ����Ҫ�������Թ��պ����ʹ�ã�������ÿ��ģ����20�����ݲɼ�ͨ��������ʱ��������ͨ��ͬʱ�ɼ�������������5�β���Ϊһ�飬����������ܴ���Ҫ�������Ա�����ؼ�¼���Խ������ռ�ô�������������Ҳ���ܱ�֤��������ǡ�©�ǡ����⣬����������72 h���ϻ������У�Ҫ�������Աʱ�̼��ظ�λҲ�ǲ���ʵ�ġ�����ϵͳ�е�����һ���ֹ��������ܹ�ʵʱ�ؼ�¼���ݣ����洢��ָ���ı���С��ڲ��Թ����У������ݳ���ʱ��ϵͳ���Զ���¼������Ϣ��
3)�ṩ��ѯ����
����ͨ���ò���ϵͳ�����ԶԲ��Թ���������¼�����ݽ��в�ѯ�������û�ָ���Ĳ�ѯ��Ŀ�Բ��Լ�¼��������ɸѡ�������û������������ݣ������Խ���ѯ����Ա�����ʽ��ӡ������
4)�淶�����Ʒ
���������ȫ�����Ժ󣬺ϸ��Ʒ��Ҫ������������Ʒ�����ܹ���ģ�����⡢�����Լ�ά��������еǼǡ���ѯ��ͳ�ƹ���
3��ϵͳ��������
����ϵͳ�����Visual FoxPro��д�����ݲ������񣬷�Ϊ���¼�����ģ�飬��ͼ2��ʾ��


ͼ2��ϵͳ����ṹ��ͼ
1)ϵͳ����ģ��
������ɲ�����Ŀ������ģ�����ͺͲ����豸�����á���Ҫָ�����ǣ���ϵͳ�����У�����ȱ�ٵ����ɲ�����Ա���뱻��ģ��Ĳ�Ʒ�����кţ�������к��ڲ��Լ�¼�б���Ϊ��������
2)���Լ�¼ģ��
������Ӧ�Ĳ�����Ŀ��������������������ѡ����Բ��衢�������̡���ɼ���ͨ������ģ�鷢�����������ʵʱ�ɼ�����ʾ���ɼ���������������������������
����ģ��ͨѶ�ǲ���ϵͳ�ĺ��Ĳ��֣�Ҳ�ǳ�����Ƶ��ѵ㣬��ͼ3��ʾ������ϵͳװ����FoxPro


ͼ3��ģ��ͨѶ����ͼ
�е�FOXTOOLS.FLL������ļ�������Windows��һ�ֶ�̬���ӿ⣬����������е�RegFn()��CallFn()���̱�ɵ���Windows�е�USER.EXE,GDI.EXE��KRNL386��KRNL286.EXE��3�����Ķ�̬���ӿ��е����̡���16λWindows�У��Դ��ڵĲ��������ض��ĺ�����
.OpenComm
.CloseComm
.ReadComm
.WriteComm
.GetCommState
.SetCommState
�������Ƕ�����USER.EXE����⡣��Visual FoxPro��Ҫ����������̬���ӿ��е����̱����ȡ�ע�ᡱ����ȡ��һ�����̾���������ô˾�����е��á�����ϵͳ����RegFn()���̶�OpenComm�Ⱥ�������ע�ᣬȻ������CallFn()���̵�������ͨѶ������ͨѶ�ڣ���ͨѶ�ڽ��г�ʼ�������磺�����ʵ�����ֵ������λ����ֹͣλ�ĸ����Լ���żУ�鷽���ȡ�ͨ��WriteComm�����Ѳ����������ַ�������ʽд�����пڣ�������ReadComm���������ݲɼ�ģ�����Ӧ���뻺����������ϵͳ������һ��.dat�����ļ�������ģ�����Ӧ������ÿһ����Ӧ����20��ͨ�������ݣ�������ͨ��������źŲ�ͬʱ��������λ�ĳ���Ҳ��ͬ��Ϊ��֤�����ļ��е���������ȷ��ӳ�䵽���ݱ���У��轫�����ļ������ݸ�ʽ������ԭ�ȵĿո�ָ�����Ϊ���ŷָ������Ӷ������˶���ո���ɵ����ݴ�λ��Ȼ�����FoxPro�е�APPEND FROM��������ļ��е�����ӳ�䵽���ݱ���С����ݱ�������Ʒ���кš�ģ�����͡��������ڡ�������Ա��������Ŀ���������ݵ��ֶΣ��Ա���в�ѯ�����
�������ݱ���е�ʵʱ���ݻ���Ҫ����һϵ���ۺϴ��������ÿ��������ݵ����ֵ����Сֵ��ƽ��ֵ�ȣ�Ϊ���Խ������������׼����
�������Խ�����Զ�����ʹ������Ա���ؼ�����Խ���������޺ϸ�ֵ������˲��Ե��ٶ���׼ȷ�ԡ����������ݳ����涨�ķ�Χʱ��ϵͳ���ڲ��ϸ�������Ա�����Ŀ�ı�ǡ�***�����������Ա���������������ļ��ı�ע���м�¼�´�ʱ�Ĺ���������Թ��պ������ѯ��
3)��ѯ����ģ��
����ϵͳ���һ������Ϊ��ѯ��¼��ר�ô��ڡ������û�����Ĳ�ѯ�������磺��Ʒ���кš��������ڡ�������Ա�ȣ��Ե�ǰĿ¼�µ��������ݱ����м������鵽�ļ�¼���˿���ˢ����Ļ�⣬������ֱ���͵���ӡ����ӡ��
4)��Ʒ����ģ��
������ɺϸ��Ʒ�����Ǽǡ�����Ǽǡ�ά�޵Ǽǡ���ѯ��ͳ�ơ�
�������Ǽ���Ҫ¼���Ʒ���кš�ģ�����͡��������ڡ��������ʱ��ͬһ��ģ������к�ͨ���������ģ�Ϊ�˱��ⷴ��������Щ������ÿ���һ��ģ��ĵǼǣ����к��Զ���1����ģ�������Լ��������ڱ��ֲ��䡣�����ʱ��ϵͳ�Զ������Ʒ���кŵ�Ψһ�ԣ�������������к��ڳ�Ʒ���ݿ����Ѵ���ʱ��ϵͳ�ᷢ�����棬��ʾ�û��������롣
��������Ǽ���Ҫ¼��������ڼ������̡���������ʱ������ͬһ�����̣������ڳ�Ʒ���ݿ�����Shift�����������ж���ѡ��һ����⡣
������ѯ���԰�ģ�����кš�ģ�����͡��������ڡ����������Լ������̶Գ�Ʒ���ݿ���м��������ɴ�ӡ��ѯ�����
������Ʒ�����ɰ��ꡢ��ͳ��ģ������������������Լ������������������۸�ÿ�������̵�ÿ��ģ����������ܺͣ�ͳ�ƽ�����Դ�ӡ��
4��������
������ϵͳ�Ѿ���һ���Ĳ���Ӧ�ã�ʵ��֤����ϵͳʹ�÷��㡢�ɿ��Ըߣ��Ϻõ����������ݲɼ���ϵͳ�Ĳ���Ҫ��ҲΪ�պ󿪷�������Ʒ�Ĳ���ϵͳ�����˻�����
���߼�飺��26�ꡡŮ��������ʦ
���ߵ�λ��ϣ�ɵ��ӹ������޹�˾�������У�100095
�ո����ڣ�1998��08��03�ո�
