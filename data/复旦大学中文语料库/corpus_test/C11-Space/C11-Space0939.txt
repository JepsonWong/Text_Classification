航空动力学报
JOURNAL OF AEROSPACE POWER
1998年 第4期 No.4 1998科技期刊
计算机辅助三维复杂管路敷设研究
樊　江*　*　马　枚
北京航空航天大学
【摘要】　本文以航空发动机中的复杂三维管路系统为例研究和建立了计算机辅助基于模型的管路设计系统。系统以自定义的管路对象为基础，通过常用的四种布管逻辑实现了在发动机单一形状机匣和不同形状机匣上的管路敷设。同时还提供管路属性和形状的编辑以及对相应管接头的智能化响应、干涉检查和间隙检查等。此管路系统也适用于汽车、石油、化工等领域的管路布置。
　主题词：　航空发动机　计算机辅助设计　管路敷设
　分类号：　TB21　V233
1　引　言
　　发动机管路敷设是一个十分复杂、费时、涉及面广的任务。目前国外一般在工作站上利用发动机管路的计算机辅助敷设系统，但这种系统比较昂贵。国内这方面的研究还刚刚起步。随着微机运算速度的大幅度提高，存储容量的加大，以及微机上三维设计软件平台的日益完善，在微机上实现计算机辅助管路敷设逐渐成为可能。本文在微机上，利用三维机械设计软件Mechanical Desktop(MDT) 2.0为平台，运用面向对象的技术初步建立了基于模型的计算机辅助三维复杂管路系统的敷设。
2　基于产品模型的系统
　　基于产品模型的系统与传统的基于图纸的系统之间最大的区别在于基于图纸的计算机系统只表达了产品的几何拓扑关系，它们只是一些直线、圆弧的集合体；基于模型的系统中的产品除了包含几何拓扑关系外还包含了设计指标、相关计划、成本信息、修改请求甚至于装配顺序和维护顺序等。因此模型更完整地表达了产品，甚至包含比实际的产品更丰富的信息。在一般的CAD通用平台中提供的基本图元只是包含几何信息的直线、圆弧等。要实现基于模型的系统，就需要利用这些基本图元作为载体，加上产品的各种非图形信息，封装成用户视图中的专业的设计模型。有了这种专业的设计模型，在设计过程中就可以进行面向设计对象的智能化设计。比如，连接两个管接头的一条管路在管接头的位置发生变化后自动地根据一定的条件重新连接到管接头上。专业设计模型中包含的非图形信息能为整个设计过程如强度分析、数控加工、完成生产文档等提供必要的数据。
3　管路对象的建立
　　采用面向对象的技术在MDT平台上实现基于模型的三维管路的敷设，首要的一点是通过分析实际管路的特性，在计算机中建立管路的对象，使之拥有管路的种种属性，并提供对管路的操作。使用者则通过对管路的操作来完成管路的敷设。在使用者面前的只是与实际管路相同的虚拟管路。使用者不必了解管路内部的结构，只需采用自己熟悉的工作方式来工作。而且图形对象中存储非图形信息，可以提供给后续的设计过程如管路重量计算、强度分析以及数控弯管等。
　　通用的CAD平台一般都没有提供管路对象。我们需要在其提供的基本图元的基础上建立专业的管路对象，并使之既能象基本图元一样使用平台所提供的操作，又能具有管路独有的操作。发动机外部的管路除了几何形状，还有管径、材料、最小弯曲半径、壁厚、引出端等重要的属性。在计算机中通过表达这些属性，并将它们封装在类中，再定义对管路的各种操作就可以描述管路对象。
　　管路基本的也是最重要的属性是几何形状。发动机外部管路的中心线是空间的三维曲线，因此采用NURBS曲线能很好地表达。NURBS用控制多边形定义曲线，通过修改控制多边形的顶点和调整权因子可以方便地修改曲线。同时B样条基函数具有计算稳定和快速的特点。采用NURBS表示管中心线后，就可用沿管路中心线扫掠而成的圆管曲面表示管路的形状。在导管类中同时还封装了如下的数据：

图1　三维参数化管路模型
管本身的属性：
　　管外径m＿outr
　　壁厚m＿thickness
　　材料m＿material 
　　引出端长度
　　m＿startlinelength，
　　m＿endlinelength
连接的属性：
　　两端连接物体的Handle
　　m＿startconobj
　　m＿endconobj；
显示的属性：
　　显示方式m＿display；
　　管外曲面m＿surf；
　　还定义了对管路的操作：编辑管路所有的物理属性，管路的合并，管路的夹点拖动，删除、复制、管路文件的输入输出等（如图1）。
4　布管方式的表达
　　管路敷设系统最根本要解决的问题是管路的布置。管路对象提供了布管的操作对象，但在各附件都存在的情况下进行合理的自动布管还是相当困难的。因此，为了简化问题，我们通过总结现代发动机外部管路系统管路的形状，总结出在发动机管路敷设时通常采用的四种逻辑。
　　(1)直线连接：这种布管方式主要针对管径较粗的导管。管径较粗的导管是发动机敷设管路中优先考虑敷设的管路，这种导管两端接头的距离比较近，导管由于加工工艺的考虑不能弯曲，只能采用直线的方式连接。
　　(2)最短路径：这种布管方式是外部管路中最基本的布管方式，也是应用于管径较粗的导管。发动机外部管路规则要求发动机的管路应尽量地短，这样能减轻重量，减少流体损失。考虑到发动机机匣是圆柱或圆锥，最短路径应是贴着壁面的一条曲线或直线。

图2　轴向周向布管的形式
(3)轴向周向布管：发动机上大多数的管路都按这种方式进行布管。因为这种布管方式容易绕过障碍物而且可以比较规则地布置管路。对接头的位置考虑了如下的几种情况（如图2）：
　　①两接头在轴向位置相同：则中心线在两接头处都先在周向贴着壁面弯曲，然后再在轴向以直线相连。
　　②两接头周向位置相同：管路从两接头在轴向直线连出，再在周向紧贴壁面弯曲。
　　③两接头轴向、周向位置都不同：若起始接头的外法线方向为轴向，则中心线先周向布管，再在轴向上与另一接头相连。若起始接头的外法线方向为周向，则中心线先轴向布管，再在周向上与另一接头相连。
　　(4)手工连接：这种布管方式针对不能为以上三种方式所概括的管路。手工连接的方式即是由手工给出中心线的拟合点，生成中心线曲线。这种方式随着鼠标的移动，动态地给出当前曲线的形状，以便于用户察看和随时调整曲线的形状。
5　跨不同形状机匣的管路敷设
　　前面所讲的布管方式，实际上是在几何形状为单一的圆柱面或圆锥面的机匣上进行的。在发动机外部管路的敷设中，常常会遇见一条导管跨越不同几何形状的机匣，如一段圆柱面后接一段圆锥面。在这种情况下系统采用了分段敷设管路然后连接的方式。即在各单一的机匣端上敷设好管路，然后将各段管路连接起来形成一条跨段的导管。这样在单一的机匣上敷设管

图3　跨不同形状机匣的管路敷设
路时，导管连接的就不只是管接头，还可能是机匣的端面或管路的端面。如果将导管和机匣端面都看作管路的一种接头，则分段敷设管路的问题就转化成为导管起始端和终止端的接头形式的问题。如图3，将跨段的导管分为三段在单一机匣上的导管：导管1、导管2和导管3。如按导管1＞导管2＞导管3的顺序布管则在敷设导管1时，导管1的接头形式为管接头和机匣端面；敷设导管2时，导管2的两端接头为导管端面和机匣端面，同时导管1和导管2连接成一条导管；敷设导管3时，导管3的两端接头为导管端面和管接头，三段导管最终连接成一条导管（图2和图3仍MDT2．0平台所绘，也反映该绘图软件的缺陷）。
6　系统功能与结构
　　系统的结构如图4所示。系统的基础是包含管路各属性和行为的三维参数化管路对象。

图4　基于模型的三维管路敷设系统结构
此对象可以通过继承得到有特殊要求的管路，如必须考虑热膨胀的热端管路。以四种布管逻辑操作各种管路对象，并调用管路元件库进行单段机匣的管路敷设。对敷设的管路可进行干涉和间隙检查。完成单段机匣的管路敷设后，合并带有端面和管路接头形式的导管可完成跨段管路的敷设。由于完成敷设的管路是自定义的对象，所以在其内部包含了进行工程分析的数据，可以输出到CAE软件上进行强度、振动分析。
　　敷设完成的管路可进行编辑，修改管路的形状和各种属性。管路对象一旦连接到管接头就可以与管接头建立一定的约束关系。当管接头位置发生改变，与之相连的管路对象将自动感知到其位置的变化，并修改形状继续保持与管接头相连接。

图5　管路敷设实例
通过在MDT平台上模拟敷设管路（如图5），验证了通过这种方式进行管路敷设是可行的。经过进一步的完善，这种敷设管路系统可达到工程实用，并可扩展到其他行业的管路敷设。
7　结　论
　　本文运用了面向对象的设计方法在微机上首次实现了发动机基于模型的三维管路计算机预敷设，验证了基于微机的面向对象的三维管路敷设系统的可能性。
　　为以此为基础发展出基于微机的完整的专业三维管路预敷设打下良好的技术基础，提供了广阔的拓展前景。此基于模型的计算机辅助管路敷设系统也适用于汽车、石油、化工等行业的管路设计。
参　考　文　献
1　James C B,Henry A J.Electronic Engine 'Mockup' Shortens Design Time.AEROSPACE AMERICA,1985
2　适南，李士才．AutoCAD R14与对象技术．Autodesk in China,1997
3　樊江．三维管路敷设软件研制及管路元件库的建立：［学位论文］．北京航空航天大学，1998
（责任编辑　王震华）
1998年4月收稿；1998年6月收到修改稿。*本文系国家自然科学基金资助项目，编号：69584001
*　*男　25岁　硕士　北京航空航天大学405教研室　100083
