航空工艺技术
AERONAUTICAL MANUFACTURING TECHNOLOGY
1999年 第2期 No.2 1999



基于神经网络的机械加工信息融合

王清明　卢泽生
　　[摘要]　概述了基于神经网络的信息融合技术在机械加工中的刀具状态监控、加工精度预测、误差补偿等方面的应用，并展望了该技术的应用前景。
　　关键词： 神经网络　信息融合　机械加工
Neural Network_Based Information Fusion in Machining
　　[ABSTRACT]　This paper introduces the application of neural network_based information fusion in machining for monitoring the tool state, forecasting the machining accuracy and compensating the errors, and gives its foreground in the future.
　　Keywords: Neural network　Information fusion　Machining
　　神经网络由于和其他方法相比具有如下许多优点而被广泛应用于机械加工中，即：(1)并行结构，便于融合多信号；(2)学习功能，有很强的知识获取能力；(3)联想推理功能和自调整功能；(4)很强的非线性映射功能，便于复杂系统建模。基于神经网络的这些特征，神经网络在机械加工中最有前途的应用领域是多传感器信息融合。首先L.monostori提出了用人工神经网络代替传统的模式识别技术(如统计方法)，取得了良好效果。机械加工的最终目标是以低成本、高速度、高质量加工出所需零件，要达到该目标，核心任务是实现加工过程自动化。为了保证加工过程自动化的顺利进行，必须对加工过程进行及时而有效的监控。加工过程非常复杂，有很多因素影响着加工精度和加工过程的顺利进行。实践证明，单一的传感器很难正确反映加工状态，向多传感器信息融合发展是必然之路。多传感器能够提供加工过程多方面的信息，对这些信息进行综合和知识提取(即信息融合)，进而对加工过程进行正确的预测和控制。信息融合需要很强的数据处理能力和有效的算法，计算机和人工神经网络为此提供了强有力的支持，使得信息融合技术在机械加工中得到了广泛的应用。下面针对信息融合技术在机械加工中的应用作一概述。
1　机械加工中刀具状态监控
　　刀具状态监控是FMS，CIMS等系统中的关键技术，包括刀具磨损监控和破损监控。检测刀具状态主要采用间接方法。加工过程中与刀具状态有关的量很多，主要包括切削力F(fx,fy,fz)、电机电流/功率(Is,Ps,If,Pf)、声发射信号AE、振动信号VB和切削参数(f,v,ap)等，前4项需要在加工过程中实时测量，称为测量信号。最初的刀具状态监控大都基于一种因素(如切削力检测法)，误报率较高，甚至将两种因素结合在一起可靠性仍然有限。如钻削过程中，在不同切削条件下用主轴电流信号检测刀具状态正确率为70%，用进给电流信号检测的正确率为75%，两者结合起来检测正确率为80%［1］。因此利用人工神经网络对多种信息进行融合，就能基本上消除外界干扰，提高检测的可靠性。神经网络的并行结构不限制输入量的个数，为了保证每项输入均与输出有较大的相关程度，通常采用方差分析和序贯向前寻优法(sequential forward search)［2］决定输入的种类和数量。输入大致分为两种情况，一是把全部测量信号或其一部分作为输入；二是把测量信号或其一部分和切削参数作为输入，在各种切削条件下对网络进行训练，如在钻削过程中把主轴、进给电流信号和切削参数作为三层神经网络的输入，刀具磨损状态作为输出［1］。信息融合刀具状态监控通用模型如图1所示。考虑到神经网络不能解决模糊问题，而刀具磨损恰是一个模糊概念，Li.S把模糊系统引进神经网络，根据刀具状态监控的要求，设计了合理的模糊神经网络模型，融合切削力、振动、主轴电机功率信号，把刀具状态划分为新刃、初期磨损、中期磨损、急剧磨损和破损，获得很大成功，将神经网络的应用又推进了一步［3］。神经网络的输入既可以用信号本身又可以用其统计量和谱特征量(如有效值、均值、方差等)，把某一信号的统计量和谱特征量的一部分或全部作为输入，将该信号的各种信息融合到一起，也可称为信息融合。如采用进给切削力的二阶标准化中心谱矩、有效值、均值，切削分量的功率、均方值、均值6个输入量，通过6×6×1网络检测刀具状态效果很好［4］。

图1　刀具状态监控模型原理图
Fig.1　Principle of tool state monitoring model
2　机械加工精度预测
　　加工精度的正确预测是加工过程自动化技术发展的迫切需要，它主要包括尺寸精度、形状精度、表面粗糙度的预测，目前加工精度预测研究的重点是表面粗糙度。从理论上讲，用神经网络信息融合模型把相关误差源和加工精度指标联系起来，可以预测任意项加工精度指标。实际上，加工过程是一个非常复杂的动态系统，影响加工精度的误差源很多，包括机床几何精度、温度变形、力变形、工艺系统振动、刀具磨损、切削液类型和润滑情况、切削参数、刀具类型、工件材质等，而且其中有些项还包括多个分量，如机床加工中温度变形是一个非常复杂的问题，需要加工系统内外多处的温度分布值，有时温度传感器的数量有数十个甚至近百个。因此用神经网络建立所有加工精度指标与所有误差源的通用预测模型有一定难度(这也是目前研究的一个方向)。另外为了保证基于神经网络的融合模型的有效性，训练样本最好能全部覆盖或尽可能多地覆盖所有加工状态，这需要很多的训练样本，即使采用正交设计法(Orthogonal arrays)安排试验，试验次数也是惊人的，基于此，现在常用的方法是把一项或数项加工精度作为三层神经网络融合模型的输出，把与其相关程度较大的误差源作为输入来预测加工精度。文献［5］在车削过程中将刀具磨损作为影响表面粗糙度的主要因素，考虑到切削力和声发射信号与刀具磨损状态有直接关系，因此把切削力和声发射信号测量值及其历史值作为神经网络融合模型的输入来预测刀具状态，效果良好。文献［6］用正交设计安排车削试验，将切削参数、润滑情况、刀具磨损状态、工件材质和工件直径作为神经网络融合模型的输入，先把表面粗糙度和工件直径误差作为输出，然后再分别将切削力、系统振动、声发射信号及刀具的偏斜作为输出，最后用统计分析方法得到影响表面粗糙度和工件直径误差的主要因素为进给速度、工件直径、径向切削力和进给分量，把这4个因素作为神经网络融合模型的输入，表面粗糙度和工件直径误差作为输出，用4×3×2模型预测，效果令人满意。
3　机械加工误差补偿
　　误差补偿是机械加工中的一个重要研究方向，被认为是在一定机床制造精度基础上进一步提高加工精度的主要手段，在质量保证中扮演着十分重要的角色。国内外很多文献对误差补偿进行了大量研究，提出了多种建立误差补偿模型的方法，如三角关系法、有限元法、有限差分法、变分法、齐次坐标变换法和神经网络法等，其中人工神经网络法有非常强的学习能力和非线性映射能力，并且与其他方法相比具有直接性，经过适当训练能准确地实现从误差源到定位误差的映射，避免了其他方法工作量大或边界条件不充分的缺点，在误差补偿中得到了广泛应用，已经成为实现误差补偿的有效工具。一般认为机床在加工时刀具相对工件的运动精度决定着零件的加工精度，影响运动精度的主要因素是机床的几何精度、热变形和力变形。在一定温度和不受力条件下，机床的几何精度造成的刀具运动误差是位置的函数，机床的温度变化后，刀具的运动误差变为位置和温度分布的函数。加工过程中，在力的作用下，加工系统会发生变形，这时刀具相对工件的运动误差成为位置、温度分布和力的函数，考虑到力是切削参数的函数，用力或切削参数作为融合模型的输入在很大程度上是一致的。现在普遍应用齐次坐标变换法建立误差补偿模型，各分量的辨识情况是：把运动部件直线度误差的6个分量拟合为温度和位置的多项式函数，把轴之间的垂直度和平行度拟合为温度的多项式函数，最后合成误差模型的结果是温度和位置的函数［7］。总之，刀具相对工件的运动误差是位置、温度分布和切削参数的函数。从位置、温度分布和切削参数到运动误差是一个复杂的非线性映射，利用神经网络的非线性映射能力，基于神经网络的信息融合误差补偿模型的一般形式如图2所示。误差补偿模型的输入应根据不同的情况进行调整，如在哈尔滨工业大学研制的亚微米超精密车床上进行加工，由于该车床采用了气浮轴承和气浮导轨，且床身、溜板和主轴箱的材料是花岗石，因此加工中温度的变化是很小的，误差补偿模型的输入可以去掉温度矢量。考虑到模型结构复杂，学习速度慢，针对3个误差分量分别建立3个模型会更方便。为了保证基于神经网络的信息融合误差补偿模型的补偿精度，得到合理的训练样本和检验样本是十分必要的，所谓合理是指样本能覆盖机床的整个加工范围、温度变化范围和常用切削参数的各种组合。样本的获得主要有两种方法：(1)用标准样件(如塔轮、球棒等)和测量设备(如激光测量设备)离线校正机床，该方法没有考虑切削力的影响，补偿模型输入不包含切削参数；(2)用比机床加工精度更高的测量机测量机床加工的典型零件的误差［8］。随着测量技术的进步，基于神经网络的信息融合技术将在误差补偿中得到更广泛的应用。

图2　误差补偿模型原理图
Fig.2　Principle of error compensation model
4　机械加工在线测量
　　在线测量是加工测量一体化的关键技术，能够大大提高产品质量和生产率。机床的在线测量与坐标测量机的功能相似，把刀具换成传感器即可测量已加工表面，因此需要补偿机床的运动误差，这里指加工完后对工件进行测量。在机床上测量过程的误差补偿与加工中的误差补偿不同，它没有切削，不存在切削力的影响，从加工误差补偿模型中去掉切削参数的影响即可得到在线测量的误差补偿模型。训练样本和检验样本的获得基本上和机械加工误差补偿中的方法相同，只是第二种方法需减去力变形部分，即零件在高精度测量机上测得的误差值减去在机床上测得的误差值。
　　基于神经网络的信息融合技术已在机械加工中得到了广泛的应用，但它并不是完美的，还有许多问题需要解决，如学习速度慢、局部收敛、合理输入和模型结构的确定以及解决问题的黑箱性等，随着这些问题的解决，它必将在机械加工中得到更广泛更深入的应用。

作者单位：王清明　卢泽生（哈尔滨工业大学机电学院）

参考文献
　[1] 李小俚.基于小波和模糊神经网络的刀具状态智能检测技术研究：［博士学位论文］.哈尔滨：哈尔滨工业大学，1997
　[2] Dornfeld D A. Neural network sensor fusion for tool condition monitoring. Annals of the CIRP,1990,39(1)
　[3] Li S, Elbestawi M A. Fuzzy clustering for automated tool condition monitoring in machining. Journal of Mechanical Systems and Signal Processing, 1996
　[4] Monostori L. A step towards intelligent manufacturing modelling and monitoring of manufacturing processes through artificial neural networks. Annals of the CIRP, 1993,42(1)
　[5] 唐英等.基于神经网络的表面粗糙度智能预测系统.机床与液压，1996(4)
　[6] Azouzi R. On_line prediction of surface finish and dimensional deviation in turning using neural network based sensor fusion. Int.J.Mach.Tools Manufact. 1997,37(9)
　[7] Mou J.An adaptive error correction method using feature_based analysis techniques for machine performance improvement part 1 theory derivation. ASME Journal of Engineering for Industry, 1995,117(11)
　[8] 普罗尼科夫A C.数控机床的精度与可靠性.北京：机械工业出版社，1987
(责编　宇　迪)
